(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/fds_frontend/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("8a23"),n=r.n(a);n.a},"05f0":function(e,t,r){"use strict";var a=r("f332"),n=r.n(a);n.a},1307:function(e,t,r){},"16be":function(e,t,r){"use strict";var a=r("556a"),n=r.n(a);n.a},"29cd":function(e,t,r){"use strict";var a=r("a6e0"),n=r.n(a);n.a},"2c4d":function(e,t,r){r("b680");var a=function(e){return"$ ".concat((e/100).toFixed(2))},n=function(e){return e>1e3?"".concat((e/1e3).toFixed(2)," km"):"".concat(e," m")};e.exports={formatCurrency:a,formatDistance:n}},"2d89":function(e,t,r){"use strict";var a=r("c3dd"),n=r.n(a);n.a},3974:function(e,t,r){},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},"556a":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("NavDrawer"),"Customer"===e.role?r("CustomerNavBar"):"Manager"===e.role?r("ManagerNavBar"):"Staff"===e.role?r("StaffNavBar"):r("NavBar"),r("v-content",[r("router-view")],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"black",dark:"","clipped-left":""}},[r("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.toggleNavDrawer(t)}}}),r("router-link",{attrs:{to:"/"}},[r("div",{staticClass:"d-flex align-center"},[r("v-icon",{staticClass:"orange--text text--darken-1",attrs:{large:""}},[e._v("mdi-bike-fast")]),r("span",{staticClass:"ml-2 orangeText"},[e._v("FDS")])],1)]),r("v-spacer"),e.checkLoginStatus?r("v-btn",{attrs:{outlined:"",color:"orange"},on:{click:e.logout}},[e._v("logout")]):r("SignUp")],1)},o=[],c=(r("96cf"),r("1da1")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{"max-width":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{dark:"",outlined:"",color:"orange"}},a),[e._v("Sign Up")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{attrs:{"min-height":"400"}},[r("v-card-title",{staticClass:"justify-center display-1 orangeText"},[e._v("Customer Sign Up")]),r("v-container",[r("v-row",{staticClass:"justify-center"},[r("v-col",{attrs:{lg:"8"}},[r("v-text-field",{attrs:{label:"Name",color:"orange",outlined:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("v-col",{attrs:{lg:"8"}},[r("v-text-field",{attrs:{label:"Username",color:"orange",outlined:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("v-col",{attrs:{lg:"8"}},[r("v-text-field",{attrs:{label:"Password",color:"orange",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-alert",{attrs:{dense:"",outlined:"",type:"error",value:e.alert,"max-width":"400",align:"center",transition:"fade-transition"}},[e._v("Registration failed, please try again.")])],1),r("v-row",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"orange darken-3",disabled:!e.isReady()},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1),r("v-snackbar",{attrs:{timeout:3e3,color:"orange darken-3",center:"",bottom:""},model:{value:e.successSnack,callback:function(t){e.successSnack=t},expression:"successSnack"}},[e._v("Sign Up Success")])],1)},u=[],d=(r("b0c0"),r("bc3a")),m=r.n(d),v={data:function(){return{name:"",username:"",password:"",alert:!1,dialog:!1,successSnack:!1}},methods:{reset:function(){this.name="",this.username="",this.password="",this.alert=!1,this.dialog=!1},isReady:function(){return this.name.length>0&&this.username.length>0&&this.password.length>0},submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={name:e.name,username:e.username,password:e.password},t.prev=1,t.next=4,m.a.post("/customer-signup",r);case 4:a=t.sent,200!=a.status?(e.alert=!0,n=e,setTimeout((function(){n.alert=!1}),3e3)):(e.reset(),e.successSnack=!0),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),e.alert=!0,s=e,setTimeout((function(){s.alert=!1}),3e3);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},f=v,p=r("2877"),h=r("6544"),g=r.n(h),b=r("0798"),x=r("8336"),y=r("b0af"),k=r("99d9"),w=r("62ad"),S=r("a523"),C=r("169a"),I=r("0fd9"),V=r("2db4"),R=r("8654"),D=Object(p["a"])(f,l,u,!1,null,null,null),_=D.exports;g()(D,{VAlert:b["a"],VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDialog:C["a"],VRow:I["a"],VSnackbar:V["a"],VTextField:R["a"]});var A={data:function(){return{}},computed:{checkLoginStatus:function(){return this.$store.getters.isLoggedIn}},methods:{signup:function(){this.$router.push("/")},toggleNavDrawer:function(){this.$store.commit("toggleNavDrawer")},logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}},components:{SignUp:_}},O=A,j=r("40dc"),E=r("5bc1"),T=r("132d"),M=r("2fa4"),F=Object(p["a"])(O,i,o,!1,null,null,null),L=F.exports;g()(F,{VAppBar:j["a"],VAppBarNavIcon:E["a"],VBtn:x["a"],VIcon:T["a"],VSpacer:M["a"]});var U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"black",dark:""}},[r("router-link",{attrs:{to:"/"}},[r("div",{staticClass:"d-flex align-center"},[r("v-icon",{staticClass:"orange--text text--darken-1",attrs:{large:""}},[e._v("mdi-bike-fast")]),r("span",{staticClass:"ml-2 orangeText"},[e._v("FDS")])],1)]),r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"orange"},on:{click:e.logout}},[e._v("Logout")])],1)},P=[],B={data:function(){return{}},computed:{},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}}},N=B,Y=Object(p["a"])(N,U,P,!1,null,null,null),q=Y.exports;g()(Y,{VAppBar:j["a"],VBtn:x["a"],VIcon:T["a"],VSpacer:M["a"]});var Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"black",dark:""}},[r("router-link",{attrs:{to:"/staff/manage-menu"}},[r("div",{staticClass:"d-flex align-center"},[r("v-icon",{staticClass:"orange--text text--darken-1",attrs:{large:""}},[e._v("mdi-bike-fast")]),r("span",{staticClass:"ml-2 orangeText"},[e._v("FDS")])],1)]),r("router-link",{attrs:{to:"/staff/manage-menu"}},[r("v-btn",{staticClass:"ml-10 orange--text text--darken-1",attrs:{outlined:""}},[e._v("Manage Menu")])],1),r("router-link",{attrs:{to:"/staff/manage-promo"}},[r("v-btn",{staticClass:"ml-10 orange--text text--darken-1",attrs:{outlined:""}},[e._v("Manage Promotions")])],1),r("router-link",{attrs:{to:"/staff/view-summary"}},[r("v-btn",{staticClass:"ml-10 orange--text text--darken-1",attrs:{outlined:""}},[e._v("View Summary")])],1),r("v-spacer"),r("v-card-text",{staticClass:"text-end"},[e._v(e._s(e.getStaffName)+" ("+e._s(e.getRname)+")")]),r("v-btn",{attrs:{outlined:"",color:"orange"},on:{click:e.logout}},[e._v("Logout")])],1)},K=[],G={data:function(){return{}},computed:{getRname:function(){return this.$store.getters["staff/restaurantName"]},getStaffName:function(){return this.$store.getters.name}},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}}},J=G,z=Object(p["a"])(J,Q,K,!1,null,null,null),$=z.exports;g()(z,{VAppBar:j["a"],VBtn:x["a"],VCardText:k["b"],VIcon:T["a"],VSpacer:M["a"]});var W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"","clipped-left":"",color:"black",dark:""}},[r("router-link",{attrs:{to:"/"}},[r("div",{staticClass:"d-flex align-center"},[r("v-icon",{staticClass:"orange--text text--darken-1",attrs:{large:""}},[e._v("mdi-bike-fast")]),r("span",{staticClass:"ml-2 orangeText"},[e._v("FDS")])],1)]),r("router-link",{attrs:{to:"/customer/browse"}},[r("v-btn",{staticClass:"ml-10 orange--text text--darken-1",attrs:{outlined:""}},[e._v("Browse")])],1),r("router-link",{attrs:{to:"/customer/orders"}},[r("v-btn",{staticClass:"ml-5 orange--text text--darken-1",attrs:{outlined:""}},[e._v("Orders")])],1),r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"orange"},on:{click:e.logout}},[e._v("Logout")])],1)},H=[],X={data:function(){return{}},computed:{},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}}},Z=X,ee=Object(p["a"])(Z,W,H,!1,null,null,null),te=ee.exports;g()(ee,{VAppBar:j["a"],VBtn:x["a"],VIcon:T["a"],VSpacer:M["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{value:e.showNavDrawer,color:e.color,"expand-on-hover":e.expandOnHover,"mini-variant":e.miniVariant,absolute:"",dark:"",app:"",clipped:""}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[e.isLoggedIn?a("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[a("v-list-item-avatar",[a("img",{attrs:{src:r("d1e2")}})]),a("v-list-item-content",{attrs:{"v-if":e.isLoggedIn}},[a("v-list-item-title",[e._v(e._s(e.name))]),a("v-list-item-subtitle",[e._v(e._s(e.role))]),"Rider"===e.role?a("v-rating",{attrs:{"half-increments":"","x-small":"",readonly:"",value:e.rating.value}}):e._e()],1)],1):e._e(),a("v-divider"),e._l(e.items,(function(t){return a("v-list-item",{key:t.title,attrs:{link:"",to:t.linkTo}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1)},ae=[],ne=r("5530"),se=r("2f62"),ie={data:function(){return{drawer:!0,color:"secondary",right:!0,miniVariant:!1,expandOnHover:!1}},computed:Object(ne["a"])({},Object(se["b"])(["showNavDrawer","name","isLoggedIn","role"]),{},Object(se["b"])({rating:"rider/rating"}),{items:function(){return this.isLoggedIn&&"Rider"==this.role?[{title:"Orders",icon:"mdi-cart",linkTo:"/rider/orders"},{title:"Schedule",icon:"mdi-calendar-clock",linkTo:"/rider/schedule"},{title:"Salary",icon:"mdi-cash-usd-outline",linkTo:"/rider/salary"},{title:"Summary",icon:"mdi-history",linkTo:"/rider/summary"}]:[]}}),methods:{}},oe=ie,ce=r("ce7e"),le=r("8860"),ue=r("da13"),de=r("8270"),me=r("5d23"),ve=r("34c3"),fe=r("f774"),pe=r("1d4d"),he=Object(p["a"])(oe,re,ae,!1,null,null,null),ge=he.exports;g()(he,{VDivider:ce["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemAvatar:de["a"],VListItemContent:me["a"],VListItemIcon:ve["a"],VListItemSubtitle:me["b"],VListItemTitle:me["c"],VNavigationDrawer:fe["a"],VRating:pe["a"]});var be={name:"App",components:{NavBar:L,CustomerNavBar:te,StaffNavBar:$,ManagerNavBar:q,NavDrawer:ge},data:function(){return{}},computed:{role:function(){return this.$store.getters.role}}},xe=be,ye=(r("034f"),r("7496")),ke=r("a75b"),we=Object(p["a"])(xe,n,s,!1,null,null,null),Se=we.exports;g()(we,{VApp:ye["a"],VContent:ke["a"]});var Ce=r("f309");a["a"].use(Ce["a"]);var Ie=new Ce["a"]({theme:{dark:!0}}),Ve=r("8c4f"),Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{algin:"center",justify:"center"}},[r("v-icon",{staticClass:"orange--text text--darken-1",attrs:{size:"200"}},[e._v("mdi-bike-fast")])],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{lg:"12"}},[r("div",{staticClass:"text-center display-2"},[e._v(" Welcome To "),r("span",{staticClass:"font-weight-black orange--text text--darken-1"},[e._v("MEALHUB")])])])],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-alert",{attrs:{dense:"",outlined:"",type:"error",value:e.alert,"max-width":"400",align:"center",transition:"fade-transition"}},[e._v("Login failed, please try again.")])],1),r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{lg:"4"}},[r("v-text-field",{attrs:{color:"orange",label:"Username",outlined:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.procLogin(t)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{color:"orange",label:"Password",outlined:"",type:"password"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.procLogin(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-row",{attrs:{align:"center",justify:"center"}},[e.loading?r("v-progress-circular",{attrs:{size:50,color:"amber",indeterminate:""}}):r("v-btn",{staticClass:"orange darken-1 black--text",attrs:{title:"",disabled:!e.username||!e.password},on:{click:e.login}},[e._v("Login")])],1)],1)},De=[],_e=r("4328"),Ae=r.n(_e),Oe={data:function(){return{username:null,password:null,alert:!1,loading:!1}},methods:{procLogin:function(){this.username&&this.password&&this.login()},login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r={method:"post",url:"login",data:Ae.a.stringify({username:e.username,password:e.password}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}},t.next=4,e.$store.dispatch("login",r);case 4:a=t.sent,e.loading=!1,n=e,t.t0=a,t.next="Rider"===t.t0?10:"Customer"===t.t0?12:"Staff"===t.t0?14:"Manager"===t.t0?16:401===t.t0?18:21;break;case 10:return e.$router.push({name:"RiderOrders"}),t.abrupt("break",22);case 12:return e.$router.push({name:"Customer"}),t.abrupt("break",22);case 14:return e.$router.push({name:"Staff"}),t.abrupt("break",22);case 16:return e.$router.push({name:"Manager"}),t.abrupt("break",22);case 18:return e.alert=!0,setTimeout((function(){n.alert=!1}),3e3),t.abrupt("break",22);case 21:console.log("An error occured");case 22:case"end":return t.stop()}}),t)})))()}},created:function(){this.$store.getters.isLoggedIn&&this.$router.push(this.$store.getters.role)}},je=Oe,Ee=r("490a"),Te=Object(p["a"])(je,Re,De,!1,null,null,null),Me=Te.exports;g()(Te,{VAlert:b["a"],VBtn:x["a"],VCol:w["a"],VContainer:S["a"],VIcon:T["a"],VProgressCircular:Ee["a"],VRow:I["a"],VTextField:R["a"]});var Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{lg:"7"}},[r("v-card",{attrs:{"min-height":"300"}},[r("v-card-title",{staticClass:"justify-center orangeText"},[e._v("Welcome "+e._s(e.name))]),r("v-divider"),r("v-row",[r("v-col",{attrs:{lg:"12"}},[r("v-container",{attrs:{flat:""}},[r("v-card",{attrs:{flat:""}},[r("v-card-title",[e._v("Account Details")]),r("v-row",[r("v-col",{attrs:{lg:"4"}},[r("v-text-field",{attrs:{outlined:"",label:"Points",color:"orange",readonly:""},model:{value:e.points,callback:function(t){e.points=t},expression:"points"}})],1),r("v-col",{attrs:{lg:"6"}},[null!==e.creditCard?r("v-text-field",{attrs:{outlined:"",label:"Credit Card",color:"orange",disabled:""},model:{value:e.creditCard,callback:function(t){e.creditCard=t},expression:"creditCard"}}):r("v-text-field",{attrs:{outlined:"",label:"Credit Card",counter:"",maxlength:"16"},model:{value:e.creditCardInput,callback:function(t){e.creditCardInput=t},expression:"creditCardInput"}})],1),r("v-col",{attrs:{lg:"2"}},[null===e.creditCard?r("v-btn",{attrs:{small:"",color:"green darken-3"},on:{click:e.addCreditCard}},[e._v("Add")]):r("v-btn",{attrs:{color:"red darken-2",small:""},on:{click:e.removeCreditCard}},[e._v("Remove")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},Le=[],Ue={data:function(){return{name:null,creditCard:null,points:null,creditCardInput:null,rules:{counter:function(e){return e.length<=20}}}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("customer/account");case 2:r=t.sent,200===r.status&&(a=r.data[0],e.name=a.name,e.creditCard=a.creditcard,e.points=a.points);case 4:case"end":return t.stop()}}),t)})))()},methods:{addCreditCard:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("customer/add-cc",{creditCard:e.creditCardInput});case 2:r=t.sent,200==r.status&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},removeCreditCard:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("customer/remove-cc");case 2:r=t.sent,200==r.status&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()}}},Pe=Ue,Be=Object(p["a"])(Pe,Fe,Le,!1,null,null,null),Ne=Be.exports;g()(Be,{VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDivider:ce["a"],VRow:I["a"],VTextField:R["a"]});var Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{lg:"3"}},[r("v-card",[r("v-toolbar",{staticClass:"black"},[r("v-toolbar-title",[e._v("Restaurants")]),r("v-spacer"),r("v-btn",{staticClass:"black",attrs:{small:""},on:{click:e.getRestaurants}},[r("v-icon",{staticClass:"orange--text"},[e._v("mdi-refresh")])],1),r("v-btn",{class:e.isSearch?"gray":"black",attrs:{small:""},on:{click:function(t){e.isSearch=!e.isSearch}}},[r("v-icon",{staticClass:"orange--text"},[e._v("mdi-magnify")])],1)],1),e.isSearch?r("v-card",{staticClass:"grey darken-4",attrs:{flat:""}},[r("div",{staticClass:"ml-4 mt-4 white--text"},[e._v("Filter by food name or restaurant name")]),r("v-row",{staticClass:"justify-center ml-3"},[r("v-col",{attrs:{lg:"8"}},[r("v-text-field",{attrs:{color:"orange",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-col",{attrs:{lg:"4"}},[r("v-btn",{attrs:{color:"orange darken-2",disabled:!e.search,"x-small":""},on:{click:e.filterSearch}},[e._v("Apply")])],1)],1),r("v-divider")],1):e._e(),r("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"800px"}},e._l(e.restaurants,(function(t){return r("v-list-item",{key:t.rid,attrs:{restaurant:t},on:{click:function(r){return e.getMenu(t)}}},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.rname)}})],1)],1)})),1)],1)],1),r("v-col",{attrs:{lg:"9"}},[e.menu?r("Menu",{key:e.rname,attrs:{menu:e.menu,rname:e.rname,minSpending:e.minSpending,rid:e.rid}}):r("v-card",[r("v-card-title",[r("v-icon",[e._v("mdi-arrow-left-bold")]),r("span",{staticClass:"white--text"},[e._v("Start browsing restaurants to order.")])],1)],1)],1)],1)],1)},qe=[],Qe=(r("ac1f"),r("841c"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("CartDialog",{staticClass:"pt-3 pr-3",attrs:{align:"end",items:e.cartItems,rid:e.rid,minSpending:e.minSpending}}),r("v-card-title",[r("v-row",[r("v-col",{attrs:{lg:"6"}},[r("span",{staticClass:"display-2 font-weight-black orangeText"},[e._v(e._s(e.rname))])]),r("v-spacer"),r("v-col",{attrs:{lg:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-col",{attrs:{lg:"6"}},[r("v-row",{staticClass:"pl-2"},[r("v-rating",{attrs:{color:"orange accent","background-color":"grey","empty-icon":"$ratingFull",hover:"",dense:"","half-increments":"",readonly:""},model:{value:e.stars,callback:function(t){e.stars=t},expression:"stars"}}),r("ReviewsDialog",{attrs:{rid:e.rid,rname:e.rname}})],1)],1)],1)],1),r("v-data-table",{attrs:{headers:e.headers,items:e.allItems,search:e.search,"item-key":"fname"},scopedSlots:e._u([{key:"item.qty",fn:function(t){var a=t.item;return[r("v-row",[r("div",{attrs:{"max-width":"100"}},[r("v-text-field",{attrs:{color:"orange",type:"number",min:"1","hide-details":"",dense:"",value:"0"},model:{value:a.qty,callback:function(t){e.$set(a,"qty",t)},expression:"item.qty"}})],1),r("v-btn",{staticClass:"mb-2",attrs:{icon:"",disabled:a.qty<=0},on:{click:function(t){return e.addToCart(a)}}},[r("v-icon",{staticClass:"green--text"},[e._v("mdi-plus-circle")])],1)],1)]}}])}),r("v-snackbar",{attrs:{color:"orange darken-4",timeout:500},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("Item added to cart.")])],1)}),Ke=[],Ge=(r("4de4"),r("d81d"),r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{dark:"",depressed:"","x-large":""}},a),[r("v-icon",{staticClass:"orange--text",attrs:{medium:""}},[e._v("mdi-cart")]),r("span",[e._v(e._s(e.totalPriceString))])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[void 0===e.items||0==e.items.length?r("v-card-title",{staticClass:"display-1 orangeText"},[e._v("Cart is empty")]):r("v-card-title",{staticClass:"display-1 orangeText"},[e._v("Cart")]),void 0!==e.items&&0!==e.items.length?r("v-container",{staticClass:"grey darken-4"},[e._l(e.items,(function(t,a){return r("v-row",{key:t.fname},[r("v-col",{attrs:{lg:"6"}},[e._v(e._s(a+1)+") "+e._s(t.fname)+" ("+e._s(e.priceInStr(t.priceInteger))+")")]),r("v-col",{attrs:{lg:"1"}},[r("v-icon",{on:{click:function(r){return e.minus(t)}}},[e._v("mdi-minus-circle")])],1),r("v-col",{attrs:{lg:"3"}},[r("div",{staticClass:"text-center"},[e._v(e._s(t.qty))])]),r("v-col",{attrs:{lg:"1"}},[r("v-icon",{on:{click:function(r){return e.plus(t)}}},[e._v("mdi-plus-circle")])],1),r("v-col",{attrs:{lg:"1",algin:"end"}},[r("v-icon",{staticClass:"red--text",attrs:{small:""},on:{click:function(r){return e.remove(t)}}},[e._v("mdi-delete")])],1)],1)})),r("v-row",{attrs:{justify:"end"}},[r("v-col",{staticClass:"headline",attrs:{lg:"4"}},[r("b",[e._v("Total:")]),e._v(" "+e._s(e.totalPriceString)+" ")])],1),r("div",{staticClass:"red--text text--lighten-2"},[e._v("Minimum spending of "+e._s(e.resMinSpendingStr))])],2):e._e(),null!==e.items&&e.items.length>0?r("v-container",[r("v-row",[r("v-col",{attrs:{lg:"12"}},[r("v-card",{attrs:{flat:""}},[r("v-card-title",{staticClass:"display-1 orangeText"},[e._v("Checkout Details")])],1),r("v-divider")],1),r("v-col",{attrs:{lg:"12"}},[r("v-radio-group",{attrs:{row:""},model:{value:e.isRecent,callback:function(t){e.isRecent=t},expression:"isRecent"}},[r("v-radio",{attrs:{label:"Enter New Address",value:!1}}),r("v-radio",{attrs:{label:"Choose Recent Address",value:!0}})],1)],1),e.isRecent?r("v-col",{attrs:{lg:"12"}},[r("v-radio-group",{model:{value:e.selectedRecent,callback:function(t){e.selectedRecent=t},expression:"selectedRecent"}},e._l(e.recentAddresses,(function(e){return r("v-radio",{key:e.postal,attrs:{label:e.address+" "+e.postal+" #"+e.unit,value:e}})})),1)],1):[r("v-col",{attrs:{lg:"12"}},[r("v-autocomplete",{attrs:{"search-input":e.addressSearch,color:"orange",dense:"",filled:"","hide-details":"","hide-no-data":"","disable-lookup":"",label:"Enter Address","solo-inverted":"",items:e.possibleAddresses},on:{"update:searchInput":function(t){e.addressSearch=t},"update:search-input":function(t){e.addressSearch=t}},model:{value:e.selectedAddress,callback:function(t){e.selectedAddress=t},expression:"selectedAddress"}})],1),r("v-col",{attrs:{lg:"6"}},[r("v-text-field",{attrs:{color:"orange",dense:"",filled:"",label:"Enter Unit#",maxlength:"10"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}})],1),r("v-col",{attrs:{lg:"6"}},[r("v-text-field",{attrs:{color:"orange",label:"Postal Code",disabled:""},model:{value:e.postalCode,callback:function(t){e.postalCode=t},expression:"postalCode"}})],1)],r("v-col",{attrs:{lg:"12"}},[r("v-select",{attrs:{items:e.promos,label:"Apply promotions?",outlined:"",dense:"",color:"orange"},model:{value:e.promo,callback:function(t){e.promo=t},expression:"promo"}})],1),r("v-col",{attrs:{lg:"6"}},[e.points>=300?r("v-checkbox",{attrs:{color:"orange",label:"Use points to wave delivery fee?"},model:{value:e.waive,callback:function(t){e.waive=t},expression:"waive"}}):e._e()],1),r("v-col",{attrs:{lg:"6"}},[e._v(" Payment Method "),r("v-divider"),r("v-radio-group",{model:{value:e.isCod,callback:function(t){e.isCod=t},expression:"isCod"}},[r("v-radio",{attrs:{label:"Cash on delivery",value:!0}}),e.hasCredit?r("v-radio",{attrs:{label:"Credit card",value:!1}}):e._e()],1)],1)],2)],1):e._e(),r("v-card-actions",{staticClass:"justify-center"},[null!==e.items&&e.items.length>0&&!e.submitted?r("v-btn",{attrs:{color:"green darken-3",disabled:e.isNotReady},on:{click:e.checkout}},[e._v("Checkout")]):e._e()],1)],1)],1),r("LoaderOverlay",{attrs:{load:e.submitted}}),r("v-snackbar",{attrs:{timeout:3e3,color:"green",top:""},model:{value:e.successSnack,callback:function(t){e.successSnack=t},expression:"successSnack"}},[e._v("Order submitted")]),r("v-snackbar",{attrs:{timeout:3e3,color:"red",top:""},model:{value:e.failSnack,callback:function(t){e.failSnack=t},expression:"failSnack"}},[e._v("An error has occured")])],1)}),Je=[],ze=(r("c740"),r("4160"),r("13d5"),r("a434"),r("d3b7"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.load}},[r("v-progress-circular",{attrs:{color:"orange",indeterminate:"",size:"64"}})],1)}),$e=[],We={props:["load"]},He=We,Xe=r("a797"),Ze=Object(p["a"])(He,ze,$e,!1,null,null,null),et=Ze.exports;g()(Ze,{VOverlay:Xe["a"],VProgressCircular:Ee["a"]});var tt={props:["items","rid","minSpending"],data:function(){return{submitted:!1,successSnack:!1,failSnack:!1,dialog:!1,isRecent:!1,unit:null,promo:null,points:null,hasCredit:!1,isCod:!0,possibleAddresses:[],selectedAddress:null,addressSearch:null,postalCode:null,recentAddresses:[],selectedRecent:null,postalMap:{},promos:[],promosMap:{},waive:!1}},computed:{totalPriceString:function(){return this.priceInStr(this.totalPriceInteger)},totalPriceInteger:function(){return this.items.map((function(e){return e.priceInteger*e.qty})).reduce((function(e,t){return e+t}),0)},isNotReady:function(){return this.totalPriceInteger<this.minSpending||(null!=this.promo&&this.totalPriceInteger<this.promosMap[this.promo].minSpending||(this.isRecent?null==this.selectedRecent:null==this.selectedAddress||null==this.postalCode||null==this.unit))},resMinSpendingStr:function(){return(this.minSpending/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"})}},watch:{addressSearch:function(e){e&&e!==this.selectedAddress&&this.getAddresses(e)},selectedAddress:function(e){this.postalCode=this.postalMap[e]}},methods:{priceInStr:function(e){return(e/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"})},plus:function(e){e.qty+=1},minus:function(e){1!==e.qty&&(e.qty-=1)},remove:function(e){this.items.splice(this.items.findIndex((function(t){return t.fname===e.fname})),1)},getAddresses:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m.a.get("/customer/addresses",{params:{search:e}});case 2:a=r.sent,200==a.status?(t.possibleAddresses=a.data.map((function(e){return e.address})),n={},a.data.forEach((function(e){n[e.address]=e.postal})),t.postalMap=n):t.possibleAddresses=[];case 4:case"end":return r.stop()}}),r)})))()},populateAccountInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/account");case 2:r=t.sent,200==r.status&&(e.points=r.data[0].points,e.hasCredit=null!=r.data[0].creditcard);case 4:case"end":return t.stop()}}),t)})))()},populateRecentAddresses:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/frequents");case 2:r=t.sent,200==r.status&&(e.recentAddresses=r.data);case 4:case"end":return t.stop()}}),t)})))()},populatePromos:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/promos/".concat(e.rid));case 2:r=t.sent,200==r.status&&(e.promos.push("None"),e.promosMap["None"]={minSpending:0,pid:null},r.data.forEach((function(t){var r="Promo ".concat(t.pid,": ");r+=t.percentoff>0?"[".concat(t.percentoff,"% OFF]"):"",r+=t.points>0?"[".concat(t.points," points]"):"";var a=e.convertToPriceStr(t.minspending);r+=t.minspending>0?"  (Min ".concat(a," spent)"):"",e.promosMap[r]={minSpending:t.minspending,pid:t.pid},e.promos.push(r)})));case 4:case"end":return t.stop()}}),t)})))()},checkout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitted=!0,e.dialog=!1,r=e.preprocessOrder(),t.prev=3,t.next=6,m.a.post("/customer/checkout",r);case 6:return a=t.sent,t.next=9,e.wait(1e3);case 9:if(e.submitted=!1,200!=a.status){t.next=17;break}return e.successSnack=!0,t.next=14,e.wait(1e3);case 14:e.$router.push("/customer/orders"),t.next=20;break;case 17:return t.next=19,e.wait(1e3);case 19:e.failSnack=!0;case 20:t.next=28;break;case 22:return t.prev=22,t.t0=t["catch"](3),t.next=26,e.wait(1e3);case 26:e.submitted=!1,e.failSnack=!0;case 28:case"end":return t.stop()}}),t,null,[[3,22]])})))()},preprocessOrder:function(){var e={rid:this.rid,items:this.items,waiveFee:this.waive,isCod:this.isCod};return this.isRecent?e.addrInfo=this.selectedRecent:e.addrInfo={address:this.selectedAddress,unit:this.unit,postal:parseInt(this.postalCode)},null!==this.promo?e.pid=this.promosMap[this.promo].pid:e.pid=null,e},convertToPriceStr:function(e){return(e/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"})},wait:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.populateRecentAddresses(),e.populateAccountInfo(),e.populatePromos();case 3:case"end":return t.stop()}}),t)})))()},components:{LoaderOverlay:et}},rt=tt,at=r("c6a6"),nt=r("ac7c"),st=r("67b6"),it=r("43a6"),ot=r("b974"),ct=Object(p["a"])(rt,Ge,Je,!1,null,null,null),lt=ct.exports;g()(ct,{VAutocomplete:at["a"],VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardTitle:k["c"],VCheckbox:nt["a"],VCol:w["a"],VContainer:S["a"],VDialog:C["a"],VDivider:ce["a"],VIcon:T["a"],VRadio:st["a"],VRadioGroup:it["a"],VRow:I["a"],VSelect:ot["a"],VSnackbar:V["a"],VTextField:R["a"]});var ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("div",e._g({staticClass:"ml-2 mt-1 subtitle-1 review"},a),[e._v("("+e._s(null!=e.reviews&&e.reviewsLength>0?e.reviewsLength:"No ")+" reviews)")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"grey darken-4"},[r("v-card-title",{staticClass:"display-1 orangeText"},[e._v("Reviews for "+e._s(e.rname))]),r("v-card-text",[r("v-list",{staticClass:"grey darken-3"},e._l(e.reviews,(function(t,a){return r("v-list-item",{key:a,attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",[r("v-rating",{attrs:{color:"orange accent","background-color":"grey darken-1","empty-icon":"$ratingFull",hover:"",dense:"",small:"",readonly:""},model:{value:t.stars,callback:function(r){e.$set(t,"stars",r)},expression:"review.stars"}})],1),r("v-list-item-subtitle",[e._v(e._s(t.date))]),r("v-list-item-subtitle",{staticClass:"mt-2"},[e._v('"'+e._s(t.comment)+'"')]),r("v-divider",{staticClass:"mt-2"})],1)],1)})),1)],1)],1)],1)},dt=[],mt=(r("fb6a"),{props:["rid","rname"],data:function(){return{dialog:!1,reviewsLength:0,reviews:null}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()("/customer/restaurant-reviews/".concat(e.rid));case 2:r=t.sent,a=r.data,e.reviewsLength=a.length,a.length>50?e.reviews=a.slice(0,50):e.reviews=a;case 6:case"end":return t.stop()}}),t)})))()}}),vt=mt,ft=(r("05f0"),Object(p["a"])(vt,ut,dt,!1,null,"2de44b4d",null)),pt=ft.exports;g()(ft,{VCard:y["a"],VCardText:k["b"],VCardTitle:k["c"],VDialog:C["a"],VDivider:ce["a"],VList:le["a"],VListItem:ue["a"],VListItemContent:me["a"],VListItemSubtitle:me["b"],VListItemTitle:me["c"],VRating:pe["a"]});var ht={props:["menu","rname","rid","minSpending"],data:function(){return{search:"",headers:[{text:"Item Name",align:"start",value:"fname"},{text:"Category",value:"category"},{text:"Price ($)",value:"price"},{text:"Quantity",value:"qty"}],cart:[],stars:null,snackbar:!1}},computed:{allItems:function(){var e=this.menu.map((function(e){return{fname:e.fname,category:e.category,price:(e.price/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"}),priceInteger:e.price,qty:0}}));return e},cartItems:function(){return this.cart}},methods:{addToCart:function(e){this.snackbar=!0;var t=this.cart.filter((function(t){return t.fname===e.fname}))[0];t?t.qty=t.qty+parseInt(e.qty):this.cart.push({fname:e.fname,priceInteger:e.priceInteger,qty:parseInt(e.qty)})}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("customer/restaurant-rating/".concat(e.rid));case 2:r=t.sent,e.stars=Number(r.data.stars);case 4:case"end":return t.stop()}}),t)})))()},components:{CartDialog:lt,ReviewsDialog:pt}},gt=ht,bt=r("8fea"),xt=Object(p["a"])(gt,Qe,Ke,!1,null,null,null),yt=xt.exports;g()(xt,{VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VCol:w["a"],VDataTable:bt["a"],VIcon:T["a"],VRating:pe["a"],VRow:I["a"],VSnackbar:V["a"],VSpacer:M["a"],VTextField:R["a"]});var kt={data:function(){return{restaurants:[],menu:null,rname:"",minSpending:null,rid:null,isSearch:!1,search:""}},methods:{getMenu:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m.a.get("/customer/restaurants/".concat(e.rid));case 2:a=r.sent,200==a.status&&(t.menu=a.data,t.rname=e.rname,t.minSpending=e.minspending,t.rid=e.rid);case 4:case"end":return r.stop()}}),r)})))()},getRestaurants:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/restaurants");case 2:r=t.sent,200==r.status&&(e.restaurants=r.data);case 4:case"end":return t.stop()}}),t)})))()},filterSearch:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/restaurants/search=".concat(e.search));case 2:r=t.sent,200==r.status&&(e.restaurants=r.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getRestaurants();case 1:case"end":return t.stop()}}),t)})))()},components:{Menu:yt}},wt=kt,St=(r("16be"),r("71d9")),Ct=r("2a7f"),It=Object(p["a"])(wt,Ye,qe,!1,null,"2b3e79b1",null),Vt=It.exports;g()(It,{VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDivider:ce["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemContent:me["a"],VListItemTitle:me["c"],VRow:I["a"],VSpacer:M["a"],VTextField:R["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var Rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",{staticClass:"orangeText black display-1"},[r("v-row",{staticClass:"pa-2"},[e._v("Orders Summary")]),r("v-spacer"),r("v-row",{attrs:{justify:"end"}},[r("v-btn",{staticClass:"mr-4",attrs:{fab:""},on:{click:e.refresh}},[r("v-icon",{attrs:{color:"orange"}},[e._v("mdi-refresh")])],1)],1)],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.orders,expanded:e.ordersExpanded,"sort-by":["delivered","deliverTime"],"sort-desc":[!1,!0],"single-expand":"","show-expand":"","item-key":"oid"},on:{"update:expanded":function(t){e.ordersExpanded=t}},scopedSlots:e._u([{key:"item.deliverTime",fn:function(t){var r=t.item;return[e._v(e._s(e.formatDate(r.deliverTime)))]}},{key:"item.orderTime",fn:function(t){var r=t.item;return[e._v(e._s(e.formatDate(r.orderTime)))]}},{key:"item.delivered",fn:function(t){var a=t.item;return[r("v-row",{attrs:{justify:"center"}},[a.delivered?r("v-icon",{staticClass:"green--text",attrs:{large:""}},[e._v("mdi-check-circle")]):r("v-icon",{staticClass:"orange--text",attrs:{large:""}},[e._v("mdi-moped")])],1)]}},{key:"item.priceStr",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{color:"yellow darken-3 black--text"}},[e._v(e._s(a.priceStr))])]}},{key:"expanded-item",fn:function(t){var a=t.headers,n=t.item;return[r("td",{staticClass:"grey darken-4",attrs:{colspan:a.length}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{lg:"3"}},[r("v-card",{staticClass:"headline grey darken-4",attrs:{flat:""}},[r("v-card-title",[e._v("Delivery Address")]),r("v-card-text",[e._v(" "+e._s(n.address)+" "),r("br"),e._v(" "+e._s(n.postal+" #"+n.unit)+" ")])],1)],1),r("v-col",{attrs:{lg:"3"}},[r("v-card",{staticClass:"headline grey darken-4",attrs:{flat:""}},[r("v-card-title",[e._v("Checkout Details")]),r("v-card-text",[e._v(" Payment Method: "),r("span",{staticClass:"orangeText"},[e._v(" "+e._s(n.isCod?" Cash on delivery":" Credit card")+" ")]),r("br"),e._v("Promotion: "),r("span",{staticClass:"orangeText"},[e._v(e._s(null==n.pid?"-":n.pid+" "+n.points+n.discount))]),r("br"),e._v("Others: "),r("span",{staticClass:"orangeText"},[e._v(e._s(n.waived))])])],1)],1),r("v-col",{attrs:{lg:"3"}},[r("v-list",{staticClass:"grey darken-3"},e._l(n.foodList,(function(t){return r("v-list-item",{key:t},[r("v-list-item-content",{domProps:{textContent:e._s(t)}})],1)})),1)],1),r("v-col",{attrs:{lg:"1"}},[r("v-row",{attrs:{justify:"end"}},[null==n.deliverTime||n.reviewed?e._e():r("ReviewDialog",{key:n.oid,attrs:{restaurant:n.restaurant,oid:n.oid},on:{reviewed:e.refreshAfterReview}})],1),r("v-row",{staticClass:"mt-2",attrs:{justify:"end"}},[null==n.deliverTime||n.rated?e._e():r("RateDialog",{key:n.oid,attrs:{oid:n.oid},on:{rated:e.refreshAfterRate}})],1)],1)],1)],1)]}}])}),r("v-snackbar",{attrs:{timeout:2e3,color:"red lighten-1",bottom:"",left:""},model:{value:e.reviewSnack,callback:function(t){e.reviewSnack=t},expression:"reviewSnack"}},[e._v("Food review submitted")]),r("v-snackbar",{attrs:{timeout:2e3,color:"teal",bottom:"",left:""},model:{value:e.ratingSnack,callback:function(t){e.ratingSnack=t},expression:"ratingSnack"}},[e._v("Rider rating submitted")])],1)},Dt=[],_t=(r("1276"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-tooltip",{attrs:{right:"",color:"pink"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"pink lighten-1",dark:"",small:"",fab:""}},Object.assign({},n,a)),[r("v-icon",[e._v("mdi-message-draw")])],1)]}}],null,!0)},[r("span",{staticClass:"ml-1 white--text"},[e._v("Review food")])])]}}]),model:{value:e.review,callback:function(t){e.review=t},expression:"review"}},[r("v-card",{staticClass:"black"},[r("v-container",[r("v-row",{staticClass:"headline",attrs:{justify:"center"}},[r("div",{staticClass:"ma-2"},[e._v(" Please give your review for "),r("span",{staticClass:"ml-1 font-weight-black"},[e._v(e._s(e.restaurant))])])]),r("v-row",{attrs:{justify:"center"}},[r("v-rating",{attrs:{color:"red lighten-1","background-color":"grey darken-1","empty-icon":"$ratingFull",hover:""},model:{value:e.stars,callback:function(t){e.stars=t},expression:"stars"}})],1),r("v-row",[r("v-textarea",{staticClass:"ma-4",attrs:{outlined:"",color:"red lighten-2"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{attrs:{color:"red lighten-1"},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1)}),At=[],Ot={props:["restaurant","oid"],data:function(){return{review:!1,comment:"",stars:3}},methods:{submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.review=!1,t.next=4,m.a.post("/customer/review-food",{comment:e.comment,stars:e.stars,oid:e.oid});case 4:r=t.sent,200==r.status?e.$emit("reviewed"):alert("An error has occured"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert("An error has occured");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},jt=Ot,Et=r("a844"),Tt=r("3a2f"),Mt=Object(p["a"])(jt,_t,At,!1,null,null,null),Ft=Mt.exports;g()(Mt,{VBtn:x["a"],VCard:y["a"],VContainer:S["a"],VDialog:C["a"],VIcon:T["a"],VRating:pe["a"],VRow:I["a"],VTextarea:Et["a"],VTooltip:Tt["a"]});var Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-tooltip",{attrs:{right:"",color:"teal"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"teal",dark:"",small:"",fab:""}},Object.assign({},n,a)),[r("v-icon",[e._v("mdi-star-face")])],1)]}}],null,!0)},[r("span",{staticClass:"ml-1 white--text"},[e._v("Rate rider")])])]}}]),model:{value:e.rate,callback:function(t){e.rate=t},expression:"rate"}},[r("v-card",{staticClass:"black"},[r("v-container",[r("v-row",{staticClass:"headline",attrs:{justify:"center"}},[r("div",{staticClass:"ma-2"},[e._v("Please give your rating for Rider")])]),r("v-row",{attrs:{justify:"center"}},[r("v-rating",{attrs:{color:"teal lighten-1","background-color":"grey darken-1","empty-icon":"$ratingFull",hover:""},model:{value:e.stars,callback:function(t){e.stars=t},expression:"stars"}})],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{attrs:{color:"teal"},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1)},Ut=[],Pt={props:["oid"],data:function(){return{rate:!1,stars:3}},methods:{submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.rate=!1,t.next=4,m.a.post("/customer/rate-rider",{stars:e.stars,oid:e.oid});case 4:r=t.sent,200==r.status?e.$emit("rated"):alert("An error has occured"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert("An error has occured");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},Bt=Pt,Nt=Object(p["a"])(Bt,Lt,Ut,!1,null,null,null),Yt=Nt.exports;g()(Nt,{VBtn:x["a"],VCard:y["a"],VContainer:S["a"],VDialog:C["a"],VIcon:T["a"],VRating:pe["a"],VRow:I["a"],VTooltip:Tt["a"]});var qt={data:function(){return{headers:[{text:"Status",align:"center",value:"delivered",sortable:!1},{text:"Order ID#",value:"oid",align:"center",sortable:!1},{text:"Order Date",align:"center",value:"orderTime",sortable:!1},{text:"Deliver Date",align:"center",value:"deliverTime",sortable:!1},{text:"Restaurant",align:"center",value:"restaurant",sortable:!1},{text:"Total Price($)",value:"priceStr",sortable:!1},{text:"",value:"data-table-expand",sortable:!1}],orders:[],ordersExpanded:[],rate:!1,reviewSnack:!1,ratingSnack:!1}},methods:{populateOrders:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/customer/orders");case 2:r=t.sent,e.orders=r.data.map((function(e){return{priceStr:(e.payableprice/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"}),price:e.payableprice,oid:e.oid,orderTime:e.ordertime,deliverTime:e.delivertime,address:e.streetname,unit:e.unit,postal:e.postalcode,delivered:null!=e.delivertime,points:0==e.points?"":"["+e.points+" points]",discount:0==e.discount?"":"["+e.discount+"% OFF]",pid:e.pid,foodList:e.foodlist,waived:e.waived?"Delivery fee waived with 300 points":"-",restaurant:e.rname,reviewed:e.reviewed,rated:e.rated,isCod:e.iscod}}));case 4:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.populateOrders();case 2:case"end":return t.stop()}}),t)})))()},refreshAfterReview:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reviewSnack=!0,t.next=3,e.refresh();case 3:case"end":return t.stop()}}),t)})))()},refreshAfterRate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.ratingSnack=!0,t.next=3,e.refresh();case 3:case"end":return t.stop()}}),t)})))()},formatDate:function(e){if(null==e)return"";var t=e.split(" "),r=t[0].split("-");return r[2]+"/"+r[1]+"/"+r[0]+" "+t[1]}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.populateOrders();case 2:case"end":return t.stop()}}),t)})))()},components:{ReviewDialog:Ft,RateDialog:Yt}},Qt=qt,Kt=r("cc20"),Gt=Object(p["a"])(Qt,Rt,Dt,!1,null,null,null),Jt=Gt.exports;g()(Gt,{VBtn:x["a"],VCard:y["a"],VCardText:k["b"],VCardTitle:k["c"],VChip:Kt["a"],VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemContent:me["a"],VRow:I["a"],VSnackbar:V["a"],VSpacer:M["a"]});var zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h1",[e._v(" Rider ")]),r("h2",[e._v("Hi "+e._s(e.name))])])},$t=[],Wt={data:function(){return{name:null}},created:function(){this.name=this.$store.getters.name}},Ht=Wt,Xt=Object(p["a"])(Ht,zt,$t,!1,null,null,null),Zt=Xt.exports;g()(Xt,{VContainer:S["a"]});var er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-toolbar",{attrs:{color:"black orange--text text--darken-2 font-weight-black",dark:""}},[r("v-toolbar-title",[e._v("Staff Workspace")])],1),r("v-tabs",{attrs:{vertical:"",color:"orange darken-2",left:""}},[r("v-tab",{on:{click:e.getListOfOrders}},[e._v("View Orders")]),r("v-tab",{on:{click:e.getOrderStatistics}},[e._v("Monthly Breakdown")]),r("v-tab",[e._v("Food Items Summary")]),r("v-tab",{on:{click:e.getPromoStatistics}},[e._v("Promotion Summary")]),r("v-tab-item",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.orderHeaders,items:e.getAllOrders,expanded:e.expanded,search:e.searchOrders,"item-key":"oid","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[r("v-row",{attrs:{justify:"start"}},[r("v-col",{attrs:{md:"auto"}},[e._v("Filter by:")]),r("v-col",{attrs:{sm:"3",md:"auto"}},[r("v-checkbox",{attrs:{label:"Delivered",color:"green darken-2",value:"Delivered"},model:{value:e.filterList,callback:function(t){e.filterList=t},expression:"filterList"}})],1),r("v-col",{attrs:{sm:"3",md:"auto"}},[r("v-checkbox",{attrs:{label:"Delivery in Progress",color:"yellow darken-2",value:"Delivery in Progress"},model:{value:e.filterList,callback:function(t){e.filterList=t},expression:"filterList"}})],1),r("v-col",{attrs:{sm:"3",md:"auto"}},[r("v-checkbox",{attrs:{label:"Awaiting Pick Up",color:"blue darken-2",value:"Awaiting Pick Up"},model:{value:e.filterList,callback:function(t){e.filterList=t},expression:"filterList"}})],1),r("v-col",{attrs:{sm:"3",md:"auto"}},[r("v-checkbox",{attrs:{label:"Not Assigned",color:"grey darken-2",value:"Not Assigned"},model:{value:e.filterList,callback:function(t){e.filterList=t},expression:"filterList"}})],1),r("v-col",{attrs:{sm:"3",md:"auto"}},[r("v-checkbox",{attrs:{label:"Error",color:"red darken-2",value:"Error"},model:{value:e.filterList,callback:function(t){e.filterList=t},expression:"filterList"}})],1)],1)]},proxy:!0}])},[r("v-toolbar-title",[e._v("All Orders")]),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",color:"orange darken-2",label:"Search","single-line":"","hide-details":""},model:{value:e.searchOrders,callback:function(t){e.searchOrders=t},expression:"searchOrders"}})],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var a=t.headers,n=t.item;return[r("td",{attrs:{colspan:a.length}},[e._v(e._s(n.itemsOrdered))])]}},{key:"item.status",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{color:e.getColor(a.status),dark:""}},[e._v(e._s(a.status))])]}}])})],1),r("v-tab-item",[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("Monthly Breakdown")]),r("v-spacer"),r("v-row",{attrs:{justify:"end"}},[r("v-col",{attrs:{lg:"4"}},[r("v-select",{staticClass:"mt-8",attrs:{color:"orange darken-2","item-color":"orange darken-2",items:e.yearList,label:"Select year"},model:{value:e.selectedYearForSummary,callback:function(t){e.selectedYearForSummary=t},expression:"selectedYearForSummary"}})],1)],1)],1),r("v-col",[r("v-data-table",{attrs:{headers:e.orderStatsHeaders,items:e.getOrderStatsItems}})],1)],1),r("v-tab-item",[r("v-toolbar",{attrs:{flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[r("v-row",{attrs:{justify:"start"}},[r("v-col",{staticClass:"mt-4",attrs:{cols:"3"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":20,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{color:"orange darken-2",label:"Choose month and year",readonly:""},model:{value:e.chosenDate,callback:function(t){e.chosenDate=t},expression:"chosenDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{staticClass:"mt-4",attrs:{type:"month",min:e.minDate,max:e.maxDate,color:"orange darken-3"},on:{input:function(t){e.getFoodCount(e.chosenDate),e.menu=!1}},model:{value:e.chosenDate,callback:function(t){e.chosenDate=t},expression:"chosenDate"}})],1)],1),r("v-col",{staticClass:"mt-4",attrs:{cols:"2"}},[r("v-select",{attrs:{items:e.limitOptions,"max-width":"190px",color:"orange darken-2","item-color":"orange darken-3",label:"Limit number of results"},on:{change:function(t){return e.getFoodCount(e.chosenDate)}},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}})],1),r("v-col",{staticClass:"mt-4"},[r("v-radio-group",{attrs:{label:"Sort by",mandatory:!0,row:""},on:{change:function(t){return e.getFoodCount(e.chosenDate)}},model:{value:e.toGetMostPopularFoodItems,callback:function(t){e.toGetMostPopularFoodItems=t},expression:"toGetMostPopularFoodItems"}},[r("v-radio",{attrs:{label:"Most popular",color:"orange darken-3",value:"true"}}),r("v-radio",{attrs:{label:"Least popular",color:"orange darken-3",value:"false"}})],1)],1)],1)]},proxy:!0}])},[r("v-toolbar-title",[e._v("Food Summary")])],1),r("v-col",[r("v-data-table",{attrs:{headers:e.foodHeaders,items:e.getFoodItems,"hide-default-footer":""}})],1)],1),r("v-tab-item",[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("Promotion Summary")])],1),r("v-col",[r("v-data-table",{attrs:{headers:e.promoHeaders,items:e.getPromoItems}})],1)],1)],1)],1)],1)},tr=[],rr=(r("99af"),r("caad"),r("b680"),r("2532"),r("3835")),ar={data:function(){return{minDate:"",maxDate:"",chosenDate:"",limit:5,expanded:[],toGetMostPopularFoodItems:null,orderList:[],filteredOrderList:[],orderStats:[],promoStats:[],yearList:[],selectedYearForSummary:"All",searchOrders:"",limitOptions:[1,2,3,4,5,6,7,8,9,10],mlist:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ColorEnum:{Delivered:"green darken-2",InProgress:"yellow darken-2",PickUp:"blue darken-2",NotAssigned:"grey darken-2",Error:"red darken-2"},rid:null,menu:!1,singleExpand:!1,filterList:["Delivered","Delivery in Progress","Awaiting Pick Up","Not Assigned","Error"],foodList:[],orderHeaders:[{text:"Order ID",sortable:!0,value:"oid"},{text:"Status",sortable:!0,value:"status"},{text:"Customer Name",sortable:!0,value:"cname"},{text:"Order Time",sortable:!0,value:"orderTime"},{text:"Delivered Time",sortable:!0,value:"deliveredTime"},{text:"Total Price (SGD)",sortable:!0,value:"totalPrice"},{text:"Promo ID",sortable:!0,value:"pid"},{text:"Rider Name",sortable:!0,value:"ridername"},{text:"",value:"data-table-expand",filterable:!1}],foodHeaders:[{text:"Food Items",sortable:!0,value:"fname"},{text:"Number of Orders",sortable:!0,value:"numOrders"}],orderStatsHeaders:[{text:"Month",sortable:!0,value:"mth"},{text:"Year",sortable:!0,value:"yr"},{text:"Number of Completed Orders",sortable:!0,value:"numOrders"},{text:"Total Cost (SGD)",sortable:!0,value:"cost"}],promoHeaders:[{text:"Promo ID",value:"pid"},{text:"Duration (days)",sortable:!0,value:"duration"},{text:"Total Number of Orders",sortable:!0,value:"numOrders"},{text:"Average Number of Orders",sortable:!0,value:"avgOrders"}]}},methods:{getRid:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/staff/get-rid/");case 2:return t=e.sent,e.abrupt("return",t.data.rid);case 4:case"end":return e.stop()}}),e)})))()},getListOfOrders:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/get-orders/".concat(e.rid));case 2:r=t.sent,e.orderList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getOrderStatistics:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/order-summary/".concat(e.rid));case 2:r=t.sent,e.orderStats=r.data;case 4:case"end":return t.stop()}}),t)})))()},getFoodCount:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.split("-"),n=a[0],s=a[1],r.next=5,m.a.get("/staff/food-count?rid=".concat(t.rid,"&mth=").concat(s,"&yr=").concat(n,"&isDesc=").concat(t.toGetMostPopularFoodItems,"&limit=").concat(t.limit));case 5:i=r.sent,t.foodList=i.data;case 7:case"end":return r.stop()}}),r)})))()},getPromoStatistics:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/promo-summary/".concat(e.rid));case 2:r=t.sent,e.promoStats=r.data;case 4:case"end":return t.stop()}}),t)})))()},getMinMaxDate:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/staff/min-max-date/");case 2:return t=e.sent,r=t.data.mindate.split("-"),a=t.data.maxdate.split("-"),e.abrupt("return",[r[0]+"-"+r[1],a[0]+"-"+a[1]]);case 6:case"end":return e.stop()}}),e)})))()},getColor:function(e){return"Delivered"===e?this.ColorEnum.Delivered:"Delivery in Progress"===e?this.ColorEnum.InProgress:"Awaiting Pick Up"===e?this.ColorEnum.PickUp:"Not Assigned"===e?this.ColorEnum.NotAssigned:this.ColorEnum.Error}},computed:{getAllOrders:function(){var e=this,t=this.orderList.map((function(e){return{oid:e.oid,status:e.status,ridername:e.ridername,pid:e.pid,cname:e.cname,totalPrice:(e.finalprice/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"}),orderTime:new Date(e.ordertime).toLocaleString("en-SG",{hour12:!1}),deliveredTime:e.deliveredtime?new Date(e.deliveredtime).toLocaleString("en-SG"):null,itemsOrdered:e.itemsordered}}));return t.filter((function(t){return e.filterList.includes(t.status)}))},getOrderStatsItems:function(){var e=this,t=this.orderStats.map((function(t){return{numOrders:t.numorders,cost:(t.totalcost/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"}),mth:e.mlist[t.mth-1],yr:t.yr}}));return"All"==this.selectedYearForSummary?t:t.filter((function(t){return t.yr==e.selectedYearForSummary}))},getFoodItems:function(){var e=this.foodList.map((function(e){return{fname:e.fname,numOrders:e.totalqty}}));return e},getPromoItems:function(){var e=this.promoStats.map((function(e){return{pid:e.pid,numOrders:e.numorders,duration:e.duration,avgOrders:+(e.numorders/e.duration).toFixed(2)}}));return e}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rid=e.$store.getters["staff/rid"],t.next=3,e.getMinMaxDate();case 3:for(r=t.sent,a=Object(rr["a"])(r,2),e.minDate=a[0],e.maxDate=a[1],n=[],s=parseInt(e.minDate.substring(0,5));s<=parseInt(e.maxDate.substring(0,5));s++)n.push(s);return n.push("All"),e.yearList=n,i=new Date,e.chosenDate=i.getFullYear()+"-"+i.getMonth(),t.next=15,e.getListOfOrders();case 15:case"end":return t.stop()}}),t)})))()}},nr=ar,sr=(r("29cd"),r("c8ef"),r("cbc5"),r("2e4b")),ir=r("e449"),or=r("71a3"),cr=r("c671"),lr=r("fe57"),ur=Object(p["a"])(nr,er,tr,!1,null,"f61135a6",null),dr=ur.exports;g()(ur,{VCheckbox:nt["a"],VChip:Kt["a"],VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VDatePicker:sr["a"],VMenu:ir["a"],VRadio:st["a"],VRadioGroup:it["a"],VRow:I["a"],VSelect:ot["a"],VSpacer:M["a"],VTab:or["a"],VTabItem:cr["a"],VTabs:lr["a"],VTextField:R["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.promoHeaders,items:e.promoList},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{color:"black orange--text text--darken-2",flat:""}},[r("v-toolbar-title",{attrs:{color:"orange darken-2"}},[e._v("Promotions")]),r("v-spacer"),r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",{staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""},on:{click:e.getPromos}},[r("v-icon",[e._v("mdi-refresh")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",e._g({staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""},on:{click:e.resetDates}},a),[r("v-icon",[e._v("mdi-plus")])],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{required:"",rules:e.rules.dates,label:"Choose start and end date",readonly:"",color:"orange darken-3"},model:{value:e.computedDateFormatted,callback:function(t){e.computedDateFormatted=t},expression:"computedDateFormatted"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{color:"orange darken-4","no-title":"",range:""},model:{value:e.rangeDates,callback:function(t){e.rangeDates=t},expression:"rangeDates"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.rangeDates)}}},[e._v("OK")])],1)],1)],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.points,color:"orange darken-3",label:"Points"},model:{value:e.editedItem.points,callback:function(t){e.$set(e.editedItem,"points",t)},expression:"editedItem.points"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.percent,color:"orange darken-3",label:"Percent Off (%)"},model:{value:e.editedItem.percentoff,callback:function(t){e.$set(e.editedItem,"percentoff",t)},expression:"editedItem.percentoff"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",prefix:"S$",rules:e.rules.minSpend,color:"orange darken-3",label:"Minimum Spend (SGD)"},model:{value:e.editedItem.minspending,callback:function(t){e.$set(e.editedItem,"minspending",t)},expression:"editedItem.minspending"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.monthsWithNoOrders,color:"orange darken-3",label:"Months With No Orders"},model:{value:e.editedItem.monthswithnoorders,callback:function(t){e.$set(e.editedItem,"monthswithnoorders",t)},expression:"editedItem.monthswithnoorders"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{disabled:!e.validForm,color:"orange darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("mdi-delete")])]}}])}),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successAdd,callback:function(t){e.successAdd=t},expression:"successAdd"}},[e._v("Promotion is added.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successEdit,callback:function(t){e.successEdit=t},expression:"successEdit"}},[e._v("Promotion is updated.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successDelete,callback:function(t){e.successDelete=t},expression:"successDelete"}},[e._v("Promotion is deleted.")]),r("v-snackbar",{attrs:{color:"error",timeout:1200},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("Oops! An error occurred.")])],1)},vr=[],fr=(r("c975"),r("a15b"),{data:function(){return{rid:null,promoList:[],dialog:!1,editedIndex:-1,rangeDates:[],menu:!1,successAdd:!1,successEdit:!1,successDelete:!1,error:!1,dateToday:null,validForm:!0,editedItem:{pid:null,startdate:null,enddate:null,points:null,percentoff:null,minspending:null,monthswithnoorders:null},defaultItem:{pid:null,startdate:null,enddate:null,points:null,percentoff:null,minspending:null,monthswithnoorders:null},promoHeaders:[{text:"Promo ID",sortable:!0,value:"pid"},{text:"Start Date",sortable:!0,value:"startdate"},{text:"End Date",sortable:!0,value:"enddate"},{text:"Points",sortable:!0,value:"points"},{text:"Percent Off (%)",sortable:!0,value:"percentoff"},{text:"Minimum Spend (SGD)",sortable:!0,value:"minspending"},{text:"Months With No Orders",sortable:!0,value:"monthswithnoorders"},{text:"Actions",value:"actions",sortable:!1}],rules:{points:[function(e){var t=/^\d+$/;return t.test(e)||"Points must be an integer"},function(e){return e>=0||"Points must be a non-negative integer"}],percent:[function(e){var t=/^\d+$/;return t.test(e)||"Percent off must be an integer"},function(e){return e>=0&&e<=100||"Percent off must be between 0 to 100"}],minSpend:[function(e){var t=/^\d{1,6}(\.\d{1,2})?$/;return t.test(e)||"Minimum spending must be a non-negative value in the form xx.xx e.g. 3.00"}],monthsWithNoOrders:[function(e){var t=/^\d+$/;return t.test(e)||"Value must be an integer"},function(e){return e>=0||"Value must be a non-negative integer"}],dates:[function(e){return!!e||"Required"},function(e){var t=e.split(" ~ ");return new Date(t[0])<=new Date(t[1])||"Start date must be earlier or equal to end date"}]}}},methods:{getPromos:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/promos/".concat(e.rid));case 2:r=t.sent,a=[],200!=r.status&&304!=r.status||r.data.forEach((function(e){e.startdate=new Date(e.startdate).toISOString().substr(0,10),e.enddate=new Date(e.enddate).toISOString().substr(0,10),e.minspending=(e.minspending/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),a.push(e)})),e.promoList=a;case 6:case"end":return t.stop()}}),t)})))()},resetDates:function(){this.rangeDates=[this.dateToday,this.dateToday]},insertIntoDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={item:e},r.next=3,m.a.post("/staff/add-promos/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successAdd=!0,r.abrupt("return",n.data);case 9:t.error=!0;case 10:case"end":return r.stop()}}),r)})))()},updateDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={item:e},r.next=3,m.a.post("/staff/edit-promos/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successEdit=!0,r.abrupt("return",n.data);case 9:t.error=!0;case 10:case"end":return r.stop()}}),r)})))()},deleteFromDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={data:{pid:e}},r.next=3,m.a.delete("/staff/delete-promos/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successDelete=!0,r.abrupt("return",n.data);case 9:t.error=!0;case 10:case"end":return r.stop()}}),r)})))()},editItem:function(e){this.editedIndex=this.promoList.map((function(e){return e.pid})).indexOf(e.pid),this.editedItem=Object.assign({},e),this.rangeDates=[this.editedItem.startdate,this.editedItem.enddate],this.dialog=!0},deleteItem:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.promoList.map((function(e){return e.pid})).indexOf(e.pid),n=confirm("Are you sure you want to delete this promotion?"),!n){r.next=6;break}return r.next=5,t.deleteFromDatabase(t.promoList[a].pid);case 5:t.promoList.splice(a,1);case 6:case"end":return r.stop()}}),r)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editedItem.startdate=e.rangeDates[0],e.editedItem.enddate=e.rangeDates[1],e.editedItem.points=parseInt(e.editedItem.points),e.editedItem.percentoff=parseInt(e.editedItem.percentoff),e.editedItem.monthswithnoorders=parseInt(e.editedItem.monthswithnoorders),!(e.editedIndex>-1)){t.next=12;break}return t.next=8,e.updateDatabase(e.editedItem);case 8:e.editedItem.minspending=(Math.round(100*e.editedItem.minspending)/100).toFixed(2),Object.assign(e.promoList[e.editedIndex],e.editedItem),t.next=18;break;case 12:return t.next=14,e.insertIntoDatabase(e.editedItem);case 14:r=t.sent,e.editedItem.minspending=(Math.round(100*e.editedItem.minspending)/100).toFixed(2),e.editedItem.pid=r,e.promoList.push(e.editedItem);case 18:e.close();case 19:case"end":return t.stop()}}),t)})))()}},watch:{dialog:function(e){e||this.close()}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},computedDateFormatted:function(){return this.rangeDates.join(" ~ ")}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.rid=e.$store.getters["staff/rid"],r=new Date,e.dateToday=r.toISOString().substr(0,10),e.rangeDates=[e.dateToday,e.dateToday],e.getPromos();case 5:case"end":return t.stop()}}),t)})))()}}),pr=fr,hr=r("4bd4"),gr=Object(p["a"])(pr,mr,vr,!1,null,null,null),br=gr.exports;g()(gr,{VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VDatePicker:sr["a"],VDialog:C["a"],VForm:hr["a"],VIcon:T["a"],VMenu:ir["a"],VRow:I["a"],VSnackbar:V["a"],VSpacer:M["a"],VTextField:R["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.foodHeaders,items:e.foodList},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{color:"black orange--text text--darken-2",flat:""}},[r("v-card",{attrs:{color:"black orange--text text--darken-2"}},[r("v-toolbar-title",{attrs:{color:"orange darken-2"}},[e._v("Restaurant Menu")])],1),r("v-card-text",[e._v(" (Min. spending: "+e._s(e.getCurrMinSpend)+") "),r("v-dialog",{attrs:{"max-width":"550px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{color:"orange darken-2",fab:"","x-small":"",dark:""}},a),[r("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.minSpendDialog,callback:function(t){e.minSpendDialog=t},expression:"minSpendDialog"}},[r("v-card",[r("v-card-title",{staticClass:"justify-center"},[r("span",{staticClass:"headline-2"},[e._v("Minimum Spending for Restaurant (SGD)")])]),r("v-card-text",{staticClass:"text-center"},[e._v("Current minimum spending: "+e._s(e.getCurrMinSpend))]),r("v-form",{attrs:{onsubmit:"return false;","lazy-validation":""},model:{value:e.validFormMinSpend,callback:function(t){e.validFormMinSpend=t},expression:"validFormMinSpend"}},[r("v-card-text",[r("v-row",{attrs:{justify:"center",align:"start"}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",prefix:"S$",rules:e.rules.minSpend,color:"orange darken-3"},model:{value:e.minSpend,callback:function(t){e.minSpend=t},expression:"minSpend"}})],1)],1)],1),r("v-card-actions",{staticClass:"justify-center"},[r("v-spacer"),r("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.closeMinSpend}},[e._v("Cancel")]),r("v-btn",{attrs:{disabled:!e.validFormMinSpend,color:"orange darken-1",text:""},on:{click:e.saveMinSpend}},[e._v("Save")])],1)],1)],1)],1)],1),r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",{staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""},on:{click:e.getFoodList}},[r("v-icon",[e._v("mdi-refresh")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",e._g({staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""}},a),[r("v-icon",[e._v("mdi-plus")])],1)],1)],1)]}}]),model:{value:e.itemDialog,callback:function(t){e.itemDialog=t},expression:"itemDialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.fname,counter:"100",color:"orange darken-3",label:"Name of Food Item"},model:{value:e.editedItem.fname,callback:function(t){e.$set(e.editedItem,"fname",t)},expression:"editedItem.fname"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",prefix:"S$",rules:e.rules.price,color:"orange darken-3",label:"Price (SGD)"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{required:"",rules:e.rules.categories,items:e.categories,color:"orange darken-3",label:"Category"},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.dailyLimit,color:"orange darken-3",label:"Daily Limit"},model:{value:e.editedItem.dailylimit,callback:function(t){e.$set(e.editedItem,"dailylimit",t)},expression:"editedItem.dailylimit"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{disabled:!e.validForm,color:"orange darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("mdi-delete")])]}}])}),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successAdd,callback:function(t){e.successAdd=t},expression:"successAdd"}},[e._v("Item is added.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successEdit,callback:function(t){e.successEdit=t},expression:"successEdit"}},[e._v("Item is updated.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successDelete,callback:function(t){e.successDelete=t},expression:"successDelete"}},[e._v("Item is deleted.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successMinSpend,callback:function(t){e.successMinSpend=t},expression:"successMinSpend"}},[e._v("Minimum spending updated.")]),r("v-snackbar",{attrs:{color:"error",timeout:1200},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("Oops! An error occurred.")])],1)},yr=[],kr={data:function(){return{rid:null,foodList:[],categories:[],validFormMinSpend:!1,minSpendDialog:!1,currMinSpend:null,minSpend:0,validForm:!0,menu:!1,itemDialog:!1,successAdd:!1,successEdit:!1,successDelete:!1,successMinSpend:!1,error:!1,editedIndex:-1,editedItem:{fname:"",price:null,category:null,dailylimit:null,numorders:0},defaultItem:{fname:"",price:null,category:null,dailylimit:null,numorders:0},foodHeaders:[{text:"Name",sortable:!0,value:"fname"},{text:"Price (SGD)",sortable:!0,value:"price"},{text:"Category",sortable:!0,value:"category"},{text:"Daily Limit",sortable:!0,value:"dailylimit"},{text:"Number of Orders",sortable:!0,value:"numorders"},{text:"Actions",value:"actions",sortable:!1}],rules:{minSpend:[function(e){var t=/^\d{1,6}(\.\d{1,2})?$/;return t.test(e)||"Min. spending must be in the form xx.xx e.g. 3.00"},function(e){return e>0||"Min. spending must be a positive value"}],fname:[function(e){return e.length>0||"Name of food item is required"},function(e){return e&&e.length<=100||"Name of food item must not be more than 100 characters"}],price:[function(e){var t=/^\d{1,6}(\.\d{1,2})?$/;return t.test(e)||"Price must be in the form xx.xx e.g. 3.00"},function(e){return e>0||"Price must be a positive value"}],categories:[function(e){return null!=e||"Category is required"}],dailyLimit:[function(e){var t=/^\d+$/;return t.test(e)||"Daily limit must be an integer"},function(e){return e>0||"Daily limit must be a positive integer"}]}}},methods:{getFoodList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/food/".concat(e.rid));case 2:r=t.sent,a=[],200==r.status&&(r.data.forEach((function(e){e.price=(e.price/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),a.push(e)})),e.foodList=a);case 5:case"end":return t.stop()}}),t)})))()},getCategories:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/cuisine/");case 2:r=t.sent,200==r.status&&(a=[],r.data.forEach((function(e){a.push(e.unnest)})),e.categories=a);case 4:case"end":return t.stop()}}),t)})))()},insertIntoDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={item:e},r.next=3,m.a.post("/staff/add-food-item/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successAdd=!0,r.abrupt("return",n.data);case 9:t.fail=!0;case 10:case"end":return r.stop()}}),r)})))()},updateDatabase:function(e,t){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={fname:e,item:t},a.next=3,m.a.post("/staff/edit-food-item/",n);case 3:if(s=a.sent,200!=s.status){a.next=9;break}return r.successEdit=!0,a.abrupt("return",s.data);case 9:r.fail=!0;case 10:case"end":return a.stop()}}),a)})))()},deleteFromDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={data:{fname:e}},r.next=3,m.a.delete("/staff/delete-food-item/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successDelete=!0,r.abrupt("return",n.data);case 9:t.fail=!0;case 10:case"end":return r.stop()}}),r)})))()},editItem:function(e){this.editedIndex=this.foodList.map((function(e){return e.fname})).indexOf(e.fname),this.editedItem=Object.assign({},e),this.itemDialog=!0},deleteItem:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.foodList.map((function(e){return e.fname})).indexOf(e.fname),n=confirm("Are you sure you want to delete this food item?"),!n){r.next=6;break}return r.next=5,t.deleteFromDatabase(t.foodList[a].fname);case 5:t.foodList.splice(a,1);case 6:case"end":return r.stop()}}),r)})))()},close:function(){var e=this;this.itemDialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editedItem.dailylimit=parseInt(e.editedItem.dailylimit),!(e.editedIndex>-1)){t.next=8;break}return t.next=4,e.updateDatabase(e.foodList[e.editedIndex].fname,e.editedItem);case 4:e.editedItem.price=(Math.round(100*e.editedItem.price)/100).toFixed(2),Object.assign(e.foodList[e.editedIndex],e.editedItem),t.next=13;break;case 8:return t.next=10,e.insertIntoDatabase(e.editedItem);case 10:e.editedItem.minspending=(Math.round(100*e.editedItem.price)/100).toFixed(2),e.editedItem.price=(Math.round(100*e.editedItem.price)/100).toFixed(2),e.foodList.push(e.editedItem);case 13:e.close();case 14:case"end":return t.stop()}}),t)})))()},getMinSpend:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/staff/min-spending/".concat(e.rid));case 2:r=t.sent,e.currMinSpend=r.data.minspending,e.minSpend=e.currMinSpend;case 5:case"end":return t.stop()}}),t)})))()},closeMinSpend:function(){this.minSpendDialog=!1},updateMinSpend:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={minspending:e.minSpend},t.next=3,m.a.post("/staff/update-minspending",r);case 3:if(a=t.sent,200!=a.status){t.next=7;break}return e.successMinSpend=!0,t.abrupt("return",!0);case 7:return e.error=!0,t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})))()},saveMinSpend:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.updateMinSpend(),r&&(e.minSpend=(Math.round(100*e.minSpend)/100).toFixed(2),e.currMinSpend=e.minSpend),e.closeMinSpend();case 3:case"end":return t.stop()}}),t)})))()}},watch:{itemDialog:function(e){e||this.close()},minSpendDialog:function(e){e||this.closeMinSpend()}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},getCurrMinSpend:function(){return(Math.round(100*this.currMinSpend)/100).toLocaleString("en-SG",{style:"currency",currency:"SGD"})}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.rid=e.$store.getters["staff/rid"],e.getFoodList(),e.getCategories(),e.getMinSpend();case 4:case"end":return t.stop()}}),t)})))()}},wr=kr,Sr=Object(p["a"])(wr,xr,yr,!1,null,null,null),Cr=Sr.exports;g()(Sr,{VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VDialog:C["a"],VForm:hr["a"],VIcon:T["a"],VRow:I["a"],VSelect:ot["a"],VSnackbar:V["a"],VSpacer:M["a"],VTextField:R["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var Ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-select",{attrs:{items:e.years,label:"Year"},on:{change:e.fetchSalaryInfo},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}}),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableItems},scopedSlots:e._u([{key:"item.baseSalary",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatCurrency(a.baseSalary)))])]}},{key:"item.commission",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatCurrency(a.commission)))])]}},{key:"item.totalSalary",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatCurrency(a.totalSalary)))])]}}])})],1)},Vr=[],Rr=r("ac79"),Dr=Rr.getSalaryInfo,_r=r("2c4d"),Ar=_r.formatCurrency,Or=r("2ef0"),jr={data:function(){var e=(new Date).getFullYear(),t=[{text:"Month Number",value:"monthNumber"},{text:"Month",value:"month"},{text:"Base Salary (SGD)",value:"baseSalary"},{text:"Commission (SGD)",value:"commission"},{text:"Total Salary (SGD)",value:"totalSalary"},{text:"Start Date",value:"startDate"},{text:"End Date",value:"endDate"},{text:"Payout Date",value:"payOutDate"}],r=[{text:"Week Number",value:"weekNumber"},{text:"Base Salary (SGD)",value:"baseSalary"},{text:"Commission (SGD)",value:"commission"},{text:"Total Salary (SGD)",value:"totalSalary"},{text:"Start Date",value:"startDate"},{text:"End Date",value:"endDate"},{text:"Payout Date",value:"payOutDate"}];return{selectedYear:e,years:Or.range(2018,e+1),partTimeHeaders:r,fullTimeHeaders:t,headers:t,salaryInfo:{}}},methods:{formatCurrency:Ar,fetchSalaryInfo:function(){var e=this;Dr(this.selectedYear).then((function(t){e.salaryInfo=t,e.headers="months"in t?e.fullTimeHeaders:e.partTimeHeaders})).catch((function(e){alert(e)}))}},created:function(){this.fetchSalaryInfo()},computed:{tableItems:function(){return"months"in this.salaryInfo?this.salaryInfo.months:this.salaryInfo.weeks}}},Er=jr,Tr=Object(p["a"])(Er,Ir,Vr,!1,null,null,null),Mr=Tr.exports;g()(Tr,{VContainer:S["a"],VDataTable:bt["a"],VSelect:ot["a"]});var Fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("div",{staticClass:"d-flex justify-center"},[r("v-switch",{attrs:{inset:"",label:e.workStatus,color:"orange",value:"red","hide-details":""},model:{value:e.availableOrdersViewable,callback:function(t){e.availableOrdersViewable=t},expression:"availableOrdersViewable"}})],1),e.availableOrdersViewable?r("AvailableOrders"):e._e()],1)},Lr=[],Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-data-iterator",{attrs:{items:e.items,"items-per-page":e.itemsPerPage,page:e.page,search:e.search,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"secondary"}},[r("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.$vuetify.breakpoint.mdAndUp?[r("v-spacer"),r("v-select",{attrs:{flat:"",outlined:"","hide-details":"",items:e.sortableHeaders,"prepend-inner-icon":"mdi-sort",label:"Sort by"},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),r("v-spacer"),r("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[r("v-btn",{attrs:{large:"",depressed:"",color:"orange",value:!1}},[r("v-icon",[e._v("mdi-arrow-up")])],1),r("v-btn",{attrs:{large:"",depressed:"",color:"orange",value:!0}},[r("v-icon",[e._v("mdi-arrow-down")])],1)],1)]:e._e()],2)]},proxy:!0},{key:"default",fn:function(t){return[r("v-row",e._l(t.items,(function(t){return r("v-col",{key:t.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[r("v-card",[r("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t["Restaurant"]))]),r("v-divider"),r("v-list",{attrs:{dense:""}},[e._l(e.filteredKeys,(function(a,n){return r("v-list-item",{key:n},[r("v-list-item-content",{class:{"blue--text":e.sortBy===a}},[e._v(e._s(a)+":")]),a in e.formattedHeaders?r("v-list-item-content",{staticClass:"align-end",class:{"blue--text":e.sortBy===a}},[e._v(e._s(e.formattedHeaders[a](t[a])))]):r("v-list-item-content",{staticClass:"align-end",class:{"blue--text":e.sortBy===a}},[e._v(e._s(t[a]))])],1)})),r("v-list-item",{staticClass:"d-flex justify-center"},[r("v-btn",{attrs:{color:"orange",dark:"",large:""},on:{click:function(r){return e.selectOrder(t.oid)}}},[e._v("Select")])],1)],2),r("v-row")],1)],1)})),1)]}},{key:"footer",fn:function(){return[r("v-row",{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[r("span",{staticClass:"grey--text"},[e._v("Items per page")]),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({staticClass:"ml-2",attrs:{dark:"",text:"",color:"orange"}},a),[e._v(" "+e._s(e.itemsPerPage)+" "),r("v-icon",[e._v("mdi-chevron-down")])],1)]}}])},[r("v-list",e._l(e.itemsPerPageArray,(function(t,a){return r("v-list-item",{key:a,on:{click:function(r){return e.updateItemsPerPage(t)}}},[r("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),r("v-spacer"),r("span",{staticClass:"mr-4 grey--text"},[e._v("Page "+e._s(e.page)+" of "+e._s(e.numberOfPages))]),r("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"orange"},on:{click:e.formerPage}},[r("v-icon",[e._v("mdi-chevron-left")])],1),r("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"orange"},on:{click:e.nextPage}},[r("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])}),e.loading?r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e()],1)},Pr=[],Br=r("ac79"),Nr=r("2ef0"),Yr=r.n(Nr),qr=r("2c4d"),Qr={data:function(){return{loading:!1,lng:0,lat:0,itemsPerPageArray:[20,50,100],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:20,sortBy:"name",headers:["Restaurant","Restaurant Address","Distance To Restaurant","Customer Address","Distance to Customer","Payment Method","Total Price"],sortableHeaders:["Restaurant","Distance To Restaurant","Distance to Customer","Total Price"],formattedHeaders:{"Distance To Restaurant":qr["formatDistance"],"Distance to Customer":qr["formatDistance"],"Total Price":qr["formatCurrency"]},items:[]}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.headers.filter((function(e){return"Restaurant"!==e}))}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},selectOrder:function(e){var t=this;Object(Br["postOrderSelection"])(e).then((function(){t.$router.push({name:"RiderCurrentOrder"})})).catch((function(e){alert(e)}))}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$getLocation();case 4:r=t.sent,e.lng=r.lng,e.lat=r.lat,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.lng=103.851959,e.lat=1.29027;case 14:Object(Br["getCurrentOrder"])(e.lng,e.lat).then((function(t){Yr.a.isEmpty(t)?Object(Br["getAvailableOrders"])(e.lng,e.lat).then((function(t){e.loading=!1,e.items=t})):e.$router.push({name:"RiderCurrentOrder"})}));case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},Kr=Qr,Gr=r("a609"),Jr=r("c377"),zr=Object(p["a"])(Kr,Ur,Pr,!1,null,null,null),$r=zr.exports;g()(zr,{VBtn:x["a"],VBtnToggle:Gr["a"],VCard:y["a"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDataIterator:Jr["a"],VDivider:ce["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemContent:me["a"],VListItemTitle:me["c"],VMenu:ir["a"],VProgressCircular:Ee["a"],VRow:I["a"],VSelect:ot["a"],VSpacer:M["a"],VTextField:R["a"],VToolbar:St["a"]});var Wr={data:function(){return{}},computed:{workStatus:function(){return this.availableOrdersViewable?"On":"Off"},availableOrdersViewable:{get:function(){return this.$store.getters["rider/availableOrdersViewable"]},set:function(e){this.$store.commit("rider/setAvailableOrdersViewable",e)}}},components:{AvailableOrders:$r}},Hr=Wr,Xr=r("b73d"),Zr=Object(p["a"])(Hr,Fr,Lr,!1,null,null,null),ea=Zr.exports;g()(Zr,{VContainer:S["a"],VSwitch:Xr["a"]});var ta=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e.loading?e._e():r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:e.layoutColor,dark:"",flat:""}},[r("v-toolbar-title",[e._v("Delivery to "+e._s(e.order.cUsername))]),r("v-spacer")],1),r("v-card-text"),r("v-list",[r("v-list-item",[e._v(" Restaurant: "),r("v-spacer"),e._v(" "+e._s(e.order.Restaurant)+" ")],1),r("v-list-item",[e._v(" Restaurant Address: "),r("v-spacer"),e._v(" "+e._s(e.order["Restaurant Address"])+" ")],1),r("v-list-item",[e._v(" Distance To Restaurant: "),r("v-spacer"),e._v(" "+e._s(e.formatDistance(e.order["Distance To Restaurant"]))+" ")],1),r("v-list-item",[e._v(" Customer Address: "),r("v-spacer"),e._v(" "+e._s(e.order["Customer Address"])+" ")],1),r("v-list-item",[e._v(" Distance To Customer: "),r("v-spacer"),e._v(" "+e._s(e.formatDistance(e.order["Distance to Customer"]))+" ")],1),r("v-list-item",[e._v(" Total Price: "),r("v-spacer"),e._v(" "+e._s(e.formatCurrency(e.order["Total Price"]))+" ")],1),r("v-list-item",[e._v(" Status: "),r("v-spacer"),e._v(" "+e._s(e.order.status)+" ")],1),r("v-list-item",[e._v(" Payment Method: "),r("v-spacer"),e._v(" "+e._s(e.order["Payment Method"])+" ")],1),r("v-list-item",[e._v(" Ordered Items: "),r("v-spacer"),r("v-list",{attrs:{dense:""}},e._l(e.order.orderedItems,(function(t,a){return r("v-list-item",{key:a},[r("span",{staticClass:"qty"},[e._v("x "+e._s(t.qty))]),r("span",{staticClass:"fname"},[e._v(e._s(t.fname))])])})),1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:e.layoutColor},on:{click:e.updateOrderStatus}},[e._v(e._s(e.action))])],1)],1)],1)],1),e.loading?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):e._e()],1)},ra=[],aa={data:function(){return{order:{},loading:!1}},props:{source:String},methods:{updateOrderStatus:function(){var e=this;Object(Br["postOrderStatusUpdate"])(this.order.oid,this.order.status).then((function(){e.order.status===Br["orderStatuses"].toCust?e.$router.push({name:"RiderOrders"}):e.fetchOrder()})).catch((function(e){alert(e)}))},formatCurrency:qr["formatCurrency"],formatDistance:qr["formatDistance"],fetchOrder:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$getLocation();case 4:r=t.sent,e.lng=r.lng,e.lat=r.lat,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.lng=103.851959,e.lat=1.29027;case 14:Object(Br["getCurrentOrder"])(e.lng,e.lat).then((function(t){Yr.a.isEmpty(t)?e.$router.push({name:"RiderOrders"}):(e.loading=!1,e.order=t)}));case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},computed:{action:function(){return this.order.status===Br["orderStatuses"].toRest?"Arrive at Restaurant":this.order.status===Br["orderStatuses"].waiting?"Depart from Restaurant":this.order.status===Br["orderStatuses"].toCust?"Complete Delivery":""},layoutColor:function(){return this.order.status===Br["orderStatuses"].toRest?"error":this.order.status===Br["orderStatuses"].waiting?"warning":this.order.status===Br["orderStatuses"].toCust?"success":"error"}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOrder();case 2:case"end":return t.stop()}}),t)})))()}},na=aa,sa=(r("f298"),Object(p["a"])(na,ta,ra,!1,null,"6966e980",null)),ia=sa.exports;g()(sa,{VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCol:w["a"],VContainer:S["a"],VList:le["a"],VListItem:ue["a"],VProgressCircular:Ee["a"],VRow:I["a"],VSpacer:M["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var oa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v("Start: "+e._s(e.start.format("LL")))]),r("v-card-title",[e._v("End: "+e._s(e.end.format("LL")))])],1),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-list",e._l(e.dailySchedules,(function(t){return r("v-list-item",{key:t.day},[r("v-list-item-group",[r("v-list-item-content",[e._v("Day "+e._s(t.day+1)+": "+e._s(e.start.clone().add(t.day,"day").format("LL")))]),e._l(t.slots,(function(a,n){return r("v-row",{key:n},[e._v(" "+e._s(e.formatSlot(a.startTime,a.endTime))+" "),r("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(r){return e.deleteSlot(t.day,n)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)})),r("v-row",[r("v-autocomplete",{attrs:{items:e.allowedStartTimes,label:"Start time"},model:{value:t.selectStart,callback:function(r){e.$set(t,"selectStart",r)},expression:"dailySchedule.selectStart"}}),r("v-autocomplete",{attrs:{items:e.allowedEndTimes,label:"End time"},model:{value:t.selectEnd,callback:function(r){e.$set(t,"selectEnd",r)},expression:"dailySchedule.selectEnd"}}),r("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"orange"},on:{click:function(r){return e.addSlot(t.day,t.selectStart,t.selectEnd)}}},[r("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],1)],2)],1)})),1),r("v-btn",{staticClass:"mr-4",attrs:{color:"orange"},on:{click:e.updateSchedule}},[e._v("Update")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"red"},on:{click:e.clearSchedule}},[e._v("Clear schedule")])],1)],1)},ca=[],la=(r("0481"),r("4069"),r("c1df")),ua=r.n(la),da={props:["year","week"],data:function(){var e=new Date;e.setMonth(e.getMonth()+1);var t=ua()("".concat(this.year,"-W").concat(this.week,"-1")),r=ua()("".concat(this.year,"-W").concat(this.week,"-7"));return{allowedStartTimes:[10,11,12,13,14,15,16,17,18,19,20,21],allowedEndTimes:[11,12,13,14,15,16,17,18,19,20,21,22],month:e.getMonth()+1,start:t,end:r,valid:!0,dailySchedules:[{day:0,selectStart:10,selectEnd:11,slots:[{startTime:10,endTime:11}]},{day:1,selectStart:10,selectEnd:13,slots:[]},{day:2,selectStart:10,selectEnd:13,slots:[]},{day:3,selectStart:10,selectEnd:13,slots:[]},{day:4,selectStart:10,selectEnd:13,slots:[]},{day:5,selectStart:10,selectEnd:13,slots:[]},{day:6,selectStart:10,selectEnd:13,slots:[]}]}},methods:{validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},addSlot:function(e,t,r){if(t>=r)return alert("Start time must be before End time");this.dailySchedules[e].slots.push({startTime:t,endTime:r})},deleteSlot:function(e,t){this.dailySchedules[e].slots.splice(t,1)},formatSlot:function(e,t){var r=(e>9?"":"0")+e+"00hr - "+(t>9?"":"0")+t+"00hr";return r},updateSchedule:function(){var e=this,t=this.dailySchedules.map((function(e){return e.slots})).flat().map((function(e){return e.endTime-e.startTime})).reduce((function(e,t){return e+t}));return t<10?alert("Need to work at least 10 hours in a week"):t>48?alert("Weekly work hours cannot exceed 48"):void Object(Br["postPTScheduleUpdate"])(this.year,this.week,this.dailySchedules).then((function(){alert("Updated"),e.$router.push("/rider/schedule")})).catch((function(e){alert(e)}))},clearSchedule:function(){var e=this;Object(Br["postClearPTSchedule"])(this.year,this.week).then((function(){alert("Schedule cleared"),e.$router.push("/rider/schedule")})).catch((function(e){alert(e)}))}}},ma=da,va=r("1baa"),fa=Object(p["a"])(ma,oa,ca,!1,null,null,null),pa=fa.exports;g()(fa,{VAutocomplete:at["a"],VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VContainer:S["a"],VForm:hr["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemContent:me["a"],VListItemGroup:va["a"],VRow:I["a"]});var ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v("Year: "+e._s(e.year))]),r("v-card-title",[e._v("Month: "+e._s(e.months[e.month-1]))]),r("v-card-title",[e._v("Shifts:")]),r("v-list",[e._l(e.shifts,(function(t){return r("v-list-item",{key:t.shiftId},[e._v(e._s(e.formatShift(t)))])})),r("v-spacer")],2)],1),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-select",{attrs:{items:e.startDaysOfMonth,rules:[function(e){return!!e||"Start day is required"}],label:"1st Day of Month to start working",required:""},model:{value:e.startDayOfMonth,callback:function(t){e.startDayOfMonth=t},expression:"startDayOfMonth"}}),r("v-select",{attrs:{items:e.shifts,rules:[function(e){return!!e||"Shift number is required"}],label:"1st day shift","item-text":"shiftid",required:""},model:{value:e.firstDayShiftId,callback:function(t){e.firstDayShiftId=t},expression:"firstDayShiftId"}}),r("v-select",{attrs:{items:e.shifts,rules:[function(e){return!!e||"Shift number is required"}],label:"2nd day shift","item-text":"shiftid",required:""},model:{value:e.secondDayShiftId,callback:function(t){e.secondDayShiftId=t},expression:"secondDayShiftId"}}),r("v-select",{attrs:{items:e.shifts,rules:[function(e){return!!e||"Shift number is required"}],label:"3rd day shift","item-text":"shiftid",required:""},model:{value:e.thirdDayShiftId,callback:function(t){e.thirdDayShiftId=t},expression:"thirdDayShiftId"}}),r("v-select",{attrs:{items:e.shifts,rules:[function(e){return!!e||"Shift number is required"}],label:"4th day shift","item-text":"shiftid",required:""},model:{value:e.fourthDayShiftId,callback:function(t){e.fourthDayShiftId=t},expression:"fourthDayShiftId"}}),r("v-select",{attrs:{items:e.shifts,rules:[function(e){return!!e||"Shift number is required"}],label:"5th day shift","item-text":"shiftid",required:""},model:{value:e.fifthDayShiftId,callback:function(t){e.fifthDayShiftId=t},expression:"fifthDayShiftId"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.applySchedule}},[e._v("Apply")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v("Reset Form")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"red"},on:{click:e.clearSchedule}},[e._v("Clear Schedule")])],1)],1)},ga=[],ba={data:function(){var e=new Date;return e.setMonth(e.getMonth()+1),{year:e.getFullYear(),month:e.getMonth()+1,months:["January","February","March","April","May","June","July","August","September","October","November","December"],valid:!0,startDayOfMonth:1,firstDayShiftId:1,secondDayShiftId:1,thirdDayShiftId:1,fourthDayShiftId:1,fifthDayShiftId:1,startDaysOfMonth:[1,2,3,4],shifts:[]}},methods:{clearSchedule:function(){var e=this;Object(Br["postClearFTSchedule"])(this.year,this.month).then((function(){alert("Schedule cleared"),e.$router.push("/rider/schedule")})).catch((function(e){alert(e)}))},formatShift:function(e){var t=e.starttime1,r=e.starttime2,a=e.endtime1,n=e.endtime2,s=(t>9?"":"0")+t+"00hr - "+(a>9?"":"0")+a+"00hr",i=(r>9?"":"0")+r+"00hr - "+(n>9?"":"0")+n+"00hr";return"\n      Shift ".concat(e.shiftid,": ").concat(s," | ").concat(i," \n      ")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},applySchedule:function(){var e=this;if(this.validate()){var t={year:this.year,month:this.month,startDayOfMonth:this.startDayOfMonth,firstDayShiftId:this.firstDayShiftId,secondDayShiftId:this.secondDayShiftId,thirdDayShiftId:this.thirdDayShiftId,fourthDayShiftId:this.fourthDayShiftId,fifthDayShiftId:this.fifthDayShiftId};Object(Br["postFTScheduleUpdate"])(t).then((function(){alert("Updated"),e.$router.push("/rider/schedule")})).catch((function(e){return alert(e)}))}}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Br["getShifts"])();case 2:return this.shifts=e.sent,e.next=5,Object(Br["getStartDaysOfMonth"])(this.year,this.month);case 5:this.startDaysOfMonth=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},xa=ba,ya=Object(p["a"])(xa,ha,ga,!1,null,null,null),ka=ya.exports;g()(ya,{VBtn:x["a"],VCard:y["a"],VCardTitle:k["c"],VContainer:S["a"],VForm:hr["a"],VList:le["a"],VListItem:ue["a"],VSelect:ot["a"],VSpacer:M["a"]});var wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("CurrentSchedule"),r("br"),r("v-row",{attrs:{align:"center",justify:"center"}},[e.isFullTimer?r("v-btn",{attrs:{to:"/rider/update-ft-schedule"}},[e._v("Update next month's schedule")]):e.isPartTimer?r("v-card",{attrs:{justify:"center",color:"secondary"}},[r("v-card-title",[e._v("Update Weekly Schedule")]),r("v-card-actions",{staticClass:"justify-center"},[r("input",{ref:"workWeek",attrs:{type:"week",name:"week",required:""}}),r("v-spacer"),r("v-btn",{on:{click:e.routeToUpdateSchedule}},[e._v("Update")])],1)],1):e._e()],1)],1)},Sa=[],Ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"fill-height"},[r("v-col",[r("v-sheet",{attrs:{height:"64"}},[r("v-toolbar",{attrs:{flat:"",color:"orange"}},[r("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("Today")]),r("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[r("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),r("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[r("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),r("v-toolbar-title",[e._v(e._s(e.title))]),r("v-spacer"),r("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{outlined:"",color:"grey darken-2"}},a),[r("span",[e._v(e._s(e.typeToLabel[e.type]))]),r("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[r("v-list",[r("v-list-item",{on:{click:function(t){e.type="day"}}},[r("v-list-item-title",[e._v("Day")])],1),r("v-list-item",{on:{click:function(t){e.type="week"}}},[r("v-list-item-title",[e._v("Week")])],1),r("v-list-item",{on:{click:function(t){e.type="month"}}},[r("v-list-item-title",[e._v("Month")])],1),r("v-list-item",{on:{click:function(t){e.type="4day"}}},[r("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),r("v-sheet",{attrs:{height:"600"}},[r("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.timeSlots,"event-color":e.getEventColor,now:e.today,type:e.type,"event-name":e.getEventName},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.updateCalendar},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),r("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[r("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[r("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-heart")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-dots-vertical")])],1)],1),r("v-card-text",[r("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),r("v-card-actions",[r("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1)},Ia=[],Va={data:function(){return{today:this.formatDate(new Date,!1),focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},start:null,end:null,selectedEvent:{},selectedElement:null,selectedOpen:!1}},computed:Object(ne["a"])({},Object(se["b"])({timeSlots:"rider/timeSlots"}),{title:function(){var e=this.start,t=this.end;if(!e||!t)return"";var r=this.monthFormatter(e),a=this.monthFormatter(t),n=r===a?"":a,s=e.year,i=t.year,o=s===i?"":i,c=e.day+this.nth(e.day),l=t.day+this.nth(t.day);switch(this.type){case"month":return"".concat(r," ").concat(s);case"week":case"4day":return"".concat(r," ").concat(c," ").concat(s," - ").concat(n," ").concat(l," ").concat(o);case"day":return"".concat(r," ").concat(c," ").concat(s)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}}),mounted:function(){this.$refs.calendar.checkChange()},methods:{getEventName:function(e){var t=e.start,r=e.end,a=t.time,n=r.time;return a+" - "+n},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(){return"orange"},setToday:function(){this.focus=this.today},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=this,r=e.nativeEvent,a=e.event,n=function(){t.selectedEvent=a,t.selectedElement=r.target,setTimeout((function(){return t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(n,10)):n(),r.stopPropagation()},nth:function(e){return e>3&&e<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10]},formatDate:function(e,t){return t?"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes()):"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},updateCalendar:function(e){var t=e.start,r=e.end;this.$store.dispatch("rider/fetchTimeSlots",{startYear:t.year,startMonth:t.month,endYear:r.year,endMonth:r.month})}}},Ra=Va,Da=r("a4f6"),_a=r("8dd9"),Aa=Object(p["a"])(Ra,Ca,Ia,!1,null,null,null),Oa=Aa.exports;g()(Aa,{VBtn:x["a"],VCalendar:Da["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCol:w["a"],VIcon:T["a"],VList:le["a"],VListItem:ue["a"],VListItemTitle:me["c"],VMenu:ir["a"],VRow:I["a"],VSheet:_a["a"],VSpacer:M["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]});var ja={components:{CurrentSchedule:Oa},created:function(){this.$store.dispatch("rider/fetchRiderType")},mounted:function(){var e=ua()(new Date).add(1,"week"),t=ua()(new Date).add(4,"week");this.$refs.workWeek.value="".concat(e.isoWeekYear(),"-W").concat(e.isoWeek()),this.$refs.workWeek.min="".concat(e.isoWeekYear(),"-W").concat(e.isoWeek()),this.$refs.workWeek.max="".concat(t.isoWeekYear(),"-W").concat(t.isoWeek())},computed:{isFullTimer:function(){return this.$store.getters["rider/riderType"]==Br["RiderTypes"].fullTime},isPartTimer:function(){return this.$store.getters["rider/riderType"]==Br["RiderTypes"].partTime}},methods:{routeToUpdateSchedule:function(){var e=this.$refs.workWeek.value.split("-"),t=parseInt(e[0]),r=parseInt(e[1].substring(1));this.$router.push({name:"RiderUpdatePTSchedule",params:{year:t,week:r}})}}},Ea=ja,Ta=Object(p["a"])(Ea,wa,Sa,!1,null,null,null),Ma=Ta.exports;g()(Ta,{VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardTitle:k["c"],VContainer:S["a"],VRow:I["a"],VSpacer:M["a"]});var Fa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-select",{attrs:{items:e.years,label:"Year"},on:{change:e.fetchSummaryInfo},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}}),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.summaryInfo}})],1)},La=[],Ua=r("ac79"),Pa=Ua.getSummaryInfo,Ba=r("2ef0"),Na={data:function(){var e=(new Date).getFullYear(),t=[{text:"Month",value:"month"},{text:"Average rating",value:"avgrating"},{text:"Highest rating",value:"maxrating"},{text:"Lowest rating",value:"minrating"},{text:"Number of ratings",value:"ratingcount"},{text:"Number of orders",value:"ordercount"}];return{selectedYear:e,years:Ba.range(2018,e+1),headers:t,summaryInfo:[]}},methods:{fetchSummaryInfo:function(){var e=this;Pa(this.selectedYear).then((function(t){e.summaryInfo=t})).catch((function(e){alert(e)}))}},created:function(){this.fetchSummaryInfo()}},Ya=Na,qa=Object(p["a"])(Ya,Fa,La,!1,null,null,null),Qa=qa.exports;g()(qa,{VContainer:S["a"],VDataTable:bt["a"],VSelect:ot["a"]});var Ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h1",[e._v("401 Error")])])},Ga=[],Ja={},za=Object(p["a"])(Ja,Ka,Ga,!1,null,null,null),$a=za.exports;g()(za,{VContainer:S["a"]});var Wa={namespaced:!0,state:{},getters:{},mutations:{},actions:{}},Ha={namespaced:!0,state:{rid:null,rname:""},getters:{rid:function(e){return e.rid},restaurantName:function(e){return e.rname}},mutations:{setRid:function(e,t){e.rid=t.rid},setRestaurantName:function(e,t){e.rname=t.rname},resetData:function(e){e.rid=null,e.rname=null}},actions:{fetchRestaurantInfo:function(e){var t=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/staff/get-restaurant-info/");case 3:r=e.sent,200!=r.status&&304!=r.status||(t("setRid",r.data),t("setRestaurantName",r.data)),e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",404);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Xa=r("bc3a"),Za=function(){return{availableOrdersViewable:!1,timeSlots:[],riderType:null,rating:{value:0,count:0}}},en={namespaced:!0,state:Za(),getters:{timeSlots:function(e){return e.timeSlots},riderType:function(e){return e.riderType},availableOrdersViewable:function(e){return e.availableOrdersViewable},rating:function(e){return e.rating}},mutations:{setTimeSlots:function(e,t){e.timeSlots=t},setRiderType:function(e,t){e.riderType=t},resetState:function(e){Object.assign(e,Za())},setAvailableOrdersViewable:function(e,t){e.availableOrdersViewable=t},setRating:function(e,t,r){e.rating={value:parseFloat(t),count:r}}},actions:{fetchTimeSlots:function(e,t){var r=e.commit,a=t.startYear,n=t.startMonth,s=t.endYear,i=t.endMonth;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xa.get("rider/schedule/".concat(a,"/").concat(n));case 2:if(t=e.sent.data,a==s&&n==i){e.next=8;break}return e.next=6,Xa.get("rider/schedule/".concat(s,"/").concat(i));case 6:o=e.sent.data,t=t.concat(o);case 8:r("setTimeSlots",t);case 9:case"end":return e.stop()}}),e)})))()},fetchRiderType:function(e){var t=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xa.get("rider/rider-type");case 2:r=e.sent.data,t("setRiderType",r);case 4:case"end":return e.stop()}}),e)})))()},fetchRating:function(e){var t=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Br["getRating"])();case 2:r=e.sent,a=r.value,n=r.count,t("setRating",a,n);case 6:case"end":return e.stop()}}),e)})))()}}},tn={namespaced:!0,state:{},getters:{},mutations:{},actions:{}},rn=r("0e44");a["a"].use(se["a"]);var an=!1,nn=function(){return{name:null,username:null,role:null,token:null,isLoggedIn:!1,showNavDrawer:!1}},sn=new se["a"].Store({plugins:[Object(rn["a"])()],state:{name:null,role:null,username:null,token:null,isLoggedIn:!1,showNavDrawer:!1},getters:{name:function(e){return e.name},role:function(e){return e.role},isLoggedIn:function(e){return e.isLoggedIn},token:function(e){return e.token},showNavDrawer:function(e){return e.showNavDrawer},username:function(e){return e.username}},mutations:{setData:function(e,t){e.name=t.user.name,e.token=t.token,e.role=t.user.role,e.isLoggedIn=!0,e.username=t.user.username},resetData:function(e){Object.assign(e,nn())},toggleNavDrawer:function(e){e.showNavDrawer=!e.showNavDrawer}},actions:{login:function(e,t){var r=this,a=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()(t);case 3:if(n=e.sent,200!=n.status&&202!=n.status){e.next=16;break}if(a("setData",n.data),"Rider"!=n.data.user.role){e.next=12;break}r.dispatch("rider/fetchRiderType"),r.dispatch("rider/fetchRating"),r.state.showNavDrawer||r.commit("toggleNavDrawer"),e.next=15;break;case 12:if("Staff"!=n.data.user.role){e.next=15;break}return e.next=15,r.dispatch("staff/fetchRestaurantInfo");case 15:return e.abrupt("return",n.data.user.role);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e["catch"](0),e.abrupt("return",401);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},logout:function(e){var t=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t("staff/resetData"),t("resetData"),t("rider/resetState");case 3:case"end":return e.stop()}}),e)})))()}},modules:{customer:Wa,manager:tn,rider:en,staff:Ha},strict:an}),on=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{width:"50%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[r("h2",{staticStyle:{color:"orange",padding:"50px 50px","text-align":"center"}},[e._v(" Sign up Page")]),r("v-container",{attrs:{cols:"12",sm:"6"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":"",width:"200"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{color:"orange",counter:20,rules:e.nameRules,label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{color:"orange",label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-select",{attrs:{color:"orange",items:e.items,rules:[function(e){return!!e||"Select a role"}],label:"Role",required:""},on:{change:e.checkRole},model:{value:e.currRole,callback:function(t){e.currRole=t},expression:"currRole"}}),e.isStaff?r("v-text-field",{attrs:{color:"orange",label:"Restaurant ID"},model:{value:e.rid,callback:function(t){e.rid=t},expression:"rid"}}):e._e(),r("v-text-field",{attrs:{color:"orange",label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("div",{staticStyle:{"align-content":"center"}},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v(" Sign Up ")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Reset Form ")])],1)],1)],1)],1),r("v-snackbar",{attrs:{color:"success",timeout:4e3},model:{value:e.isSuccess,callback:function(t){e.isSuccess=t},expression:"isSuccess"}},[e._v("User is added.")]),r("v-snackbar",{attrs:{color:"error",timeout:5e3},model:{value:e.isError,callback:function(t){e.isError=t},expression:"isError"}},[e._v("There was a problem adding the user. Check username or restaurant id")])],1)},cn=[],ln=r("a964"),un=ln.signupUser,dn={data:function(){return{valid:!0,name:"",username:"",password:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}],items:["Rider","Staff"],currRole:null,checkbox:!1,isStaff:!1,rid:null,isSuccess:!1,isError:!1}},methods:{validate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Are you sure you want to add the user"),!r){t.next=7;break}return t.next=4,un(e.name,e.username,e.currRole,e.rid,e.password);case 4:a=t.sent,console.log(a.status),200==a.status?(e.isSuccess=!0,e.$refs.form.reset()):e.isError=!0;case 7:case"end":return t.stop()}}),t)})))()},reset:function(){this.$refs.form.reset()},checkRole:function(){return this.isStaff="Staff"==this.currRole,this.isStaff}}},mn=dn,vn=Object(p["a"])(mn,on,cn,!1,null,null,null),fn=vn.exports;g()(vn,{VBtn:x["a"],VContainer:S["a"],VForm:hr["a"],VSelect:ot["a"],VSnackbar:V["a"],VTextField:R["a"]});var pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"split left"},[r("div",{staticClass:"profile"},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"434",tile:""}},[r("v-img",{attrs:{height:"100%",src:"data:image/jpeg;base64,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"}},[r("v-row",{staticClass:"fill-height",attrs:{align:"end"}},[r("v-col",{staticClass:"pa-0",attrs:{"align-self":"start",cols:"12"}},[r("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[r("v-img",{attrs:{src:"https://i0.wp.com/w.media/wp-content/uploads/2018/01/placeholderhead.jpg"}})],1)],1),r("v-col",{staticClass:"py-0"},[r("v-list-item",{attrs:{color:"rgba(0, 0, 0, .4)",dark:""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[e._v(e._s(e.name))]),r("v-list-item-subtitle",[e._v(e._s(e.username)+" ")]),r("v-list-item-subtitle",{staticClass:"subtitle-2"},[e._v(e._s(e.role))])],1)],1)],1)],1)],1)],1)],1)]),r("div",{staticClass:"split right"},[r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Signup User")]),r("v-list-item-subtitle",[e._v("Add staff or rider")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/signup"}},[r("v-btn",{attrs:{text:""}},[e._v("Add user")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Manage Users")]),r("v-list-item-subtitle",[e._v("View and delete staff or rider")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/all-staff-rider"}},[r("v-btn",{attrs:{text:""}},[e._v("Manager user")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Manage Global Promotions")]),r("v-list-item-subtitle",[e._v("Add, edit and delete promotions")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/manage-global-promotions"}},[r("v-btn",{attrs:{text:""}},[e._v("Manage promos")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Customer Orders Summary")]),r("v-list-item-subtitle",[e._v("Details about customer and their orders")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/orders/customer-order-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Order Summary")]),r("v-list-item-subtitle",[e._v("Details about all the orders placed on FDS")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/orders/fds-orders-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Most popular areas")]),r("v-list-item-subtitle",[e._v("Details about hourly orders from different areas ")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/orders/area-hourly-orders"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("User Signup statistics")]),r("v-list-item-subtitle",[e._v("Details about monthly user sign ups ")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/user-signup-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Sales Summary")]),r("v-list-item-subtitle",[e._v("Details about FDS sales")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/orders/fds-sales-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Rider Delivery Summary")]),r("v-list-item-subtitle",[e._v("Details about the deliveries done by riders")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/rider/delivery-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View Summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344px",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Rider Salary Summary")]),r("v-list-item-subtitle",[e._v("Displays sales summary")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/rider/salary-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View summary")])],1)],1)],1),r("v-card",{staticClass:"mx-auto card-tile",attrs:{"max-width":"344px",shape:"",elevation:"12"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Rider Rating Summary")]),r("v-list-item-subtitle",[e._v("Displays Rider's ratings")])],1)],1),r("v-card-actions",[r("router-link",{attrs:{to:"/manager/rider/rating-summary"}},[r("v-btn",{attrs:{text:""}},[e._v("View summary")])],1)],1)],1)],1)])},hn=[],gn={data:function(){return{name:null,role:null,username:null}},created:function(){this.name=this.$store.getters.name,this.role=this.$store.getters.role,this.username=this.$store.getters.username}},bn=gn,xn=(r("2d89"),r("8212")),yn=r("adda"),kn=Object(p["a"])(bn,pn,hn,!1,null,"440ea79a",null),wn=kn.exports;g()(kn,{VAvatar:xn["a"],VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCol:w["a"],VImg:yn["a"],VListItem:ue["a"],VListItemContent:me["a"],VListItemSubtitle:me["b"],VListItemTitle:me["c"],VRow:I["a"]});var Sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Rider Delivery Information")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchDeliveryInfo()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},Cn=[],In=r("a964"),Vn=In.getRiderDeliverySummary,Rn=r("2ef0"),Dn={data:function(){var e=(new Date).getFullYear(),t=[{text:"Rider Id",value:"riderid"},{text:"Name",value:"name"},{text:"Month",value:"month"},{text:"Average Delivery Time (min)",filterable:!1,value:"average_mins"},{text:"Total Orders Delivered",value:"total_orders_delivered",filterable:!1}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:Rn.range(2018,e+1),headers:t,deliveryInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchDeliveryInfo:function(){var e=this;Vn().then((function(t){e.deliveryInfo=t;var r=e.deliveryInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1]})),e.deliveryInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchDeliveryInfo()},computed:{tableItems:function(){return this.deliveryInfo}}},_n=Dn,An=Object(p["a"])(_n,Sn,Cn,!1,null,null,null),On=An.exports;g()(An,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var jn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Rider Rating Information")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchRatingInfo()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},En=[],Tn=r("a964"),Mn=Tn.getRiderRatingSummary,Fn=r("2ef0"),Ln={data:function(){var e=(new Date).getFullYear(),t=[{text:"Rider Id",value:"uid"},{text:"Name",value:"name"},{text:"Month",value:"month"},{text:"Number of ratings",filterable:!1,value:"count"},{text:"Average Rating",value:"avg_rating",filterable:!1}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:Fn.range(2018,e+1),headers:t,ratingsInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchRatingInfo:function(){var e=this;Mn().then((function(t){if(e.ratingsInfo=t,"No Rating"==e.selectedYear){var r=e.ratingsInfo.filter((function(e){return null==e.year}));r.forEach((function(e){e.month="N/A"})),e.ratingsInfo=r}else{var a=e.ratingsInfo.filter((function(t){return t.year==e.selectedYear}));a.forEach((function(t){t.month=e.months[t.month-1],null==t.year&&(t.month="N/A")})),e.ratingsInfo=a}})).catch((function(e){alert(e)}))}},created:function(){this.years.push("No Rating"),this.fetchRatingInfo()},computed:{tableItems:function(){return this.ratingsInfo}}},Un=Ln,Pn=Object(p["a"])(Un,jn,En,!1,null,null,null),Bn=Pn.exports;g()(Pn,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var Nn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Customer Order Information")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchCustomerOrderSummary()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},Yn=[],qn=r("a964"),Qn=qn.getCustomerOrderSummary,Kn=r("2ef0"),Gn={data:function(){var e=(new Date).getFullYear(),t=[{text:"Customer Id",value:"customerid"},{text:"Name",value:"name"},{text:"Month",value:"month"},{text:"Number of orders",filterable:!1,value:"order_count"},{text:"Total Amount Spent",value:"totalprice",filterable:!1}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:Kn.range(2018,e+1),headers:t,orderInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchCustomerOrderSummary:function(){var e=this;Qn().then((function(t){e.orderInfo=t;var r=e.orderInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1],t.totalprice=(t.totalprice/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})),e.orderInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchCustomerOrderSummary()},computed:{tableItems:function(){return this.orderInfo}}},Jn=Gn,zn=Object(p["a"])(Jn,Nn,Yn,!1,null,null,null),$n=zn.exports;g()(zn,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var Wn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" FDS Sales Information")]),r("v-container",{attrs:{fluid:""}},[r("div",{staticStyle:{width:"90%",margin:"0 auto"}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchSalesSummary()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)])],1)},Hn=[],Xn=r("a964"),Zn=Xn.getRestaurantSalesSummary,es=r("2ef0"),ts={data:function(){var e=(new Date).getFullYear(),t=[{text:"Month",value:"month"},{text:"Total Sales (S$)",filterable:!1,value:"monthly_sales"}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:es.range(2018,e+1),headers:t,salesInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchSalesSummary:function(){var e=this;Zn().then((function(t){e.salesInfo=t;var r=e.salesInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1],t.monthly_sales=parseInt(t.monthly_sales).toLocaleString("en-SG")})),e.salesInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchSalesSummary()},computed:{tableItems:function(){return this.salesInfo}}},rs=ts,as=Object(p["a"])(rs,Wn,Hn,!1,null,null,null),ns=as.exports;g()(as,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var ss=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" FDS Orders Information")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchOrdersSummary()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},is=[],os=r("a964"),cs=os.getFDSOrdersSummary,ls=r("2ef0"),us={data:function(){var e=(new Date).getFullYear(),t=[{text:"Month",value:"month"},{text:"Order Count",filterable:!1,value:"order_count"}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:ls.range(2018,e+1),headers:t,ordersInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchOrdersSummary:function(){var e=this;cs().then((function(t){e.ordersInfo=t;var r=e.ordersInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1]})),e.ordersInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchOrdersSummary()},computed:{tableItems:function(){return this.ordersInfo}}},ds=us,ms=Object(p["a"])(ds,ss,is,!1,null,null,null),vs=ms.exports;g()(ms,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var fs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Customer Sign ups Information")]),r("v-container",{attrs:{fluid:""}},[r("div",{staticStyle:{width:"90%",margin:"0 auto"}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchUserSignupSummary()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)])],1)},ps=[],hs=r("a964"),gs=hs.getUserSignUpSummary,bs=r("2ef0"),xs={data:function(){var e=(new Date).getFullYear(),t=[{text:"Month",value:"month"},{text:"Number of sign ups",filterable:!1,value:"signups"}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:bs.range(2018,e+1),headers:t,signupInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchUserSignupSummary:function(){var e=this;gs().then((function(t){e.signupInfo=t;var r=e.signupInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1]})),e.signupInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchUserSignupSummary()},computed:{tableItems:function(){return this.signupInfo}}},ys=xs,ks=Object(p["a"])(ys,fs,ps,!1,null,null,null),ws=ks.exports;g()(ks,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var Ss=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Most popular areas")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block",width:"28em"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchAreaOrderSummary()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}}),r("v-select",{staticStyle:{"padding-left":"20px"},attrs:{items:e.months,label:"Month",outlined:""},on:{change:function(t){return e.fetchAreaOrderSummary()}},model:{value:e.selectedMonth,callback:function(t){e.selectedMonth=t},expression:"selectedMonth"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},Cs=[],Is=r("a964"),Vs=Is.getHourlyAreaOrdersSummary,Rs=r("2ef0"),Ds={data:function(){var e=(new Date).getFullYear(),t=[{text:"Area Postal Code",value:"postalcode"},{text:"Number of Orders",value:"count"},{text:"Hour of the Day",value:"hour"},{text:"Month",value:"month"}],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];return{selectedYear:e,selectedMonth:r[0],years:Rs.range(2018,e+1),headers:t,areaOrdersInfo:[],itemsPerPage:12,search:"",months:r}},methods:{fetchAreaOrderSummary:function(){var e=this;Vs().then((function(t){e.areaOrdersInfo=t;var r=e.areaOrdersInfo;r.forEach((function(t){t.month=e.months[t.month-1]})),r=r.filter((function(t){return t.year==e.selectedYear&&t.month==e.selectedMonth})),e.areaOrdersInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchAreaOrderSummary()},computed:{tableItems:function(){return this.areaOrdersInfo}}},_s=Ds,As=Object(p["a"])(_s,Ss,Cs,!1,null,null,null),Os=As.exports;g()(As,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var js=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Rider Salary Information")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.years,label:"Year",outlined:""},on:{change:function(t){return e.fetchSalaryInfo()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search}})],1)],1)},Es=[],Ts=r("a964"),Ms=Ts.getSalarySummary,Fs=r("2ef0"),Ls={data:function(){var e=(new Date).getFullYear(),t=[{text:"Rider Id",value:"uid"},{text:"Name",value:"name"},{text:"Month",value:"month"},{text:"Total Salary (S$)",filterable:!1,value:"totalsalary"},{text:"Total hours",value:"totalhours",filterable:!1}],r=["January","February","March","April","May","June","July","August","September","October","November","December"];return{selectedYear:e,years:Fs.range(2018,e+1),headers:t,salaryInfo:[],itemsPerPage:12,months:r,search:""}},methods:{fetchSalaryInfo:function(){var e=this;Ms().then((function(t){e.salaryInfo=t;var r=e.salaryInfo.filter((function(t){return t.year==e.selectedYear}));r.forEach((function(t){t.month=e.months[t.month-1],t.totalsalary=parseInt(t.totalsalary).toLocaleString("en-SG")})),e.salaryInfo=r})).catch((function(e){alert(e)}))}},created:function(){this.fetchSalaryInfo()},computed:{tableItems:function(){return this.salaryInfo}}},Us=Ls,Ps=Object(p["a"])(Us,js,Es,!1,null,null,null),Bs=Ps.exports;g()(Ps,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var Ns=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Rider and Staff data")]),r("v-container",{attrs:{fluid:""}},[r("div",{staticStyle:{width:"90%",margin:"0 auto"}},[r("v-row",{attrs:{align:"center"}},[r("div",{staticStyle:{width:"50em",display:"inline-block"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{change:e.check},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("div",{staticStyle:{display:"inline-block"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.roles,label:"Year",outlined:""},on:{change:function(t){return e.fetchAllStaffRiderList()}},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}})],1)],1)]),r("v-data-table",{attrs:{headers:e.headers,items:e.tableItems,"items-per-page":e.itemsPerPage,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteUser(a)}}},[e._v("mdi-delete")])]}}])})],1)])],1)},Ys=[],qs=r("a964"),Qs=qs.getAllStaffRider,Ks=qs.deleteUser,Gs={data:function(){var e="All",t=[{text:"User Id",value:"uid"},{text:"Name",filterable:!0,value:"name"},{text:"Role",value:"role"},{text:"Actions",value:"actions",filterable:!1}];return{selectedRole:e,roles:["Rider","Staff","All"],headers:t,userList:[],itemsPerPage:12,search:""}},methods:{fetchAllStaffRiderList:function(){var e=this;Qs().then((function(t){if(e.userList=t,"All"==e.selectedRole)return e.userList;var r=e.userList.filter((function(t){return t.role==e.selectedRole}));e.userList=r})).catch((function(e){alert(e)}))},deleteUser:function(e){var t=this.userList.map((function(e){return e.uid})).indexOf(e.uid),r=confirm("Are you sure you want to delete "+e.name+"?");r&&(Ks(e),this.userList.splice(t,1))}},created:function(){this.fetchAllStaffRiderList()},computed:{tableItems:function(){return this.userList}}},Js=Gs,zs=Object(p["a"])(Js,Ns,Ys,!1,null,null,null),$s=zs.exports;g()(zs,{VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VIcon:T["a"],VRow:I["a"],VSelect:ot["a"],VTextField:R["a"]});var Ws=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h2",{staticStyle:{color:"orange",padding:"50px 50px"}},[e._v(" Manage Global Promotions")]),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.promoHeaders,items:e.promoList},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{color:"black orange--text text--darken-2",flat:""}},[r("v-toolbar-title",{attrs:{color:"orange darken-2"}},[e._v("Global Promotions")]),r("v-spacer"),r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",{staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""},on:{click:e.getPromos}},[r("v-icon",[e._v("mdi-refresh")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-col",{attrs:{cols:"4",md:"1"}},[r("v-row",{attrs:{justify:"end"}},[r("v-btn",e._g({staticClass:"mb-2",attrs:{color:"orange darken-2",dark:""},on:{click:e.resetDates}},a),[r("v-icon",[e._v("mdi-plus")])],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{required:"",rules:e.rules.dates,label:"Choose start and end date",readonly:"",color:"orange darken-3"},model:{value:e.computedDateFormatted,callback:function(t){e.computedDateFormatted=t},expression:"computedDateFormatted"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{color:"orange darken-4","no-title":"",range:""},model:{value:e.rangeDates,callback:function(t){e.rangeDates=t},expression:"rangeDates"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.rangeDates)}}},[e._v("OK")])],1)],1)],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.points,color:"orange darken-3",label:"Points"},model:{value:e.editedItem.points,callback:function(t){e.$set(e.editedItem,"points",t)},expression:"editedItem.points"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.percent,color:"orange darken-3",label:"Percent Off (%)"},model:{value:e.editedItem.percentoff,callback:function(t){e.$set(e.editedItem,"percentoff",t)},expression:"editedItem.percentoff"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",prefix:"S$",rules:e.rules.minSpend,color:"orange darken-3",label:"Minimum Spend (SGD)"},model:{value:e.editedItem.minspending,callback:function(t){e.$set(e.editedItem,"minspending",t)},expression:"editedItem.minspending"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{required:"",rules:e.rules.monthsWithNoOrders,color:"orange darken-3",label:"Months With No Orders"},model:{value:e.editedItem.monthswithnoorders,callback:function(t){e.$set(e.editedItem,"monthswithnoorders",t)},expression:"editedItem.monthswithnoorders"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"orange darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{disabled:!e.validForm,color:"orange darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"yellow"},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")]),r("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(a)}}},[e._v("mdi-delete")])]}}])}),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successAdd,callback:function(t){e.successAdd=t},expression:"successAdd"}},[e._v("Promotion is added.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successEdit,callback:function(t){e.successEdit=t},expression:"successEdit"}},[e._v("Promotion is updated.")]),r("v-snackbar",{attrs:{color:"success",timeout:1200},model:{value:e.successDelete,callback:function(t){e.successDelete=t},expression:"successDelete"}},[e._v("Promotion is deleted.")]),r("v-snackbar",{attrs:{color:"error",timeout:1200},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("Oops! An error occurred.")])],1)},Hs=[],Xs={data:function(){return{promoList:[],dialog:!1,editedIndex:-1,rangeDates:[],menu:!1,successAdd:!1,successEdit:!1,successDelete:!1,error:!1,dateToday:null,validForm:!0,editedItem:{pid:null,startdate:null,enddate:null,points:null,percentoff:null,minspending:null,monthswithnoorders:null},defaultItem:{pid:null,startdate:null,enddate:null,points:null,percentoff:null,minspending:null,monthswithnoorders:null},promoHeaders:[{text:"Promo ID",sortable:!0,value:"pid"},{text:"Start Date",sortable:!0,value:"startdate"},{text:"End Date",sortable:!0,value:"enddate"},{text:"Points",sortable:!0,value:"points"},{text:"Percent Off (%)",sortable:!0,value:"percentoff"},{text:"Minimum Spend (SGD)",sortable:!0,value:"minspending"},{text:"Months With No Orders",sortable:!0,value:"monthswithnoorders"},{text:"Actions",value:"actions",sortable:!1}],rules:{points:[function(e){var t=/^\d+$/;return t.test(e)||"Points must be an integer"},function(e){return e>=0||"Points must be a non-negative integer"}],percent:[function(e){var t=/^\d+$/;return t.test(e)||"Percent off must be an integer"},function(e){return e>=0&&e<=100||"Percent off must be between 0 to 100"}],minSpend:[function(e){var t=/^\d{1,6}(\.\d{1,2})?$/;return t.test(e)||"Minimum spending must be a non-negative value in the form xx.xx e.g. 3.00"}],monthsWithNoOrders:[function(e){var t=/^\d+$/;return t.test(e)||"Value must be an integer"},function(e){return e>=0||"Value must be a non-negative integer"}],dates:[function(e){return!!e||"Required"},function(e){var t=e.split(" ~ ");return new Date(t[0])<=new Date(t[1])||"Start date must be earlier or equal to end date"}]}}},methods:{getPromos:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/manager/global-promos/");case 2:r=t.sent,a=[],200!=r.status&&304!=r.status||r.data.forEach((function(e){e.startdate=new Date(e.startdate).toISOString().substr(0,10),e.enddate=new Date(e.enddate).toISOString().substr(0,10),e.minspending=(e.minspending/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),a.push(e)})),e.promoList=a;case 6:case"end":return t.stop()}}),t)})))()},resetDates:function(){this.rangeDates=[this.dateToday,this.dateToday]},insertIntoDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={promo:e},r.next=3,m.a.post("/manager/add-global-promo/",a);case 3:if(n=r.sent,200!=n.status){r.next=9;break}return t.successAdd=!0,r.abrupt("return",n.data);case 9:t.error=!0;case 10:case"end":return r.stop()}}),r)})))()},updateDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),a={promo:e},r.next=4,m.a.post("/manager/update-global-promo/",a);case 4:if(n=r.sent,200!=n.status){r.next=10;break}return t.successEdit=!0,r.abrupt("return",n.data);case 10:t.error=!0;case 11:case"end":return r.stop()}}),r)})))()},deleteFromDatabase:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m.a.post("/manager/delete-global-promo/"+e);case 2:if(a=r.sent,200!=a.status){r.next=8;break}return t.successDelete=!0,r.abrupt("return",a.data);case 8:t.error=!0;case 9:case"end":return r.stop()}}),r)})))()},editItem:function(e){this.editedIndex=this.promoList.map((function(e){return e.pid})).indexOf(e.pid),this.editedItem=Object.assign({},e),this.rangeDates=[this.editedItem.startdate,this.editedItem.enddate],this.dialog=!0},deleteItem:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.promoList.map((function(e){return e.pid})).indexOf(e.pid),n=confirm("Are you sure you want to delete this promotion?"),!n){r.next=6;break}return r.next=5,t.deleteFromDatabase(t.promoList[a].pid);case 5:t.promoList.splice(a,1);case 6:case"end":return r.stop()}}),r)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editedItem.startdate=e.rangeDates[0],e.editedItem.enddate=e.rangeDates[1],e.editedItem.points=parseInt(e.editedItem.points),e.editedItem.percentoff=parseInt(e.editedItem.percentoff),e.editedItem.monthswithnoorders=parseInt(e.editedItem.monthswithnoorders),!(e.editedIndex>-1)){t.next=12;break}return t.next=8,e.updateDatabase(e.editedItem);case 8:e.editedItem.minspending=(Math.round(100*e.editedItem.minspending)/100).toFixed(2),Object.assign(e.promoList[e.editedIndex],e.editedItem),t.next=18;break;case 12:return t.next=14,e.insertIntoDatabase(e.editedItem);case 14:r=t.sent,e.editedItem.minspending=(Math.round(100*e.editedItem.minspending)/100).toFixed(2),e.editedItem.pid=r,e.promoList.push(e.editedItem);case 18:e.getPromos(),e.close();case 20:case"end":return t.stop()}}),t)})))()}},watch:{dialog:function(e){e||this.close()}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},computedDateFormatted:function(){return this.rangeDates.join(" ~ ")}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=new Date,e.dateToday=r.toISOString().substr(0,10),e.rangeDates=[e.dateToday,e.dateToday],e.getPromos();case 4:case"end":return t.stop()}}),t)})))()}},Zs=Xs,ei=Object(p["a"])(Zs,Ws,Hs,!1,null,null,null),ti=ei.exports;g()(ei,{VBtn:x["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:w["a"],VContainer:S["a"],VDataTable:bt["a"],VDatePicker:sr["a"],VDialog:C["a"],VForm:hr["a"],VIcon:T["a"],VMenu:ir["a"],VRow:I["a"],VSnackbar:V["a"],VSpacer:M["a"],VTextField:R["a"],VToolbar:St["a"],VToolbarTitle:Ct["a"]}),a["a"].use(Ve["a"]);var ri=function(e,t,r,a){sn.getters.role!=a?ai.push({name:"ErrorLanding"}):r()},ai=new Ve["a"]({mode:"history",routes:[{path:"/err",name:"ErrorLanding",component:$a},{path:"/",name:"Landing",component:Me},{path:"/customer",name:"Customer",component:Ne,beforeEnter:function(e,t,r){return ri(e,t,r,"Customer")}},{path:"/customer/browse",component:Vt,beforeEnter:function(e,t,r){return ri(e,t,r,"Customer")}},{path:"/customer/orders",component:Jt,beforeEnter:function(e,t,r){return ri(e,t,r,"Customer")}},{path:"/staff/manage-menu",name:"Staff",component:Cr,beforeEnter:function(e,t,r){return ri(e,t,r,"Staff")}},{path:"/staff/view-summary",component:dr,beforeEnter:function(e,t,r){return ri(e,t,r,"Staff")}},{path:"/staff/manage-promo",component:br,beforeEnter:function(e,t,r){return ri(e,t,r,"Staff")}},{path:"/rider",name:"Rider",component:Zt,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/salary",name:"RiderSalary",component:Mr,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/orders",name:"RiderOrders",component:ea,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/curr",name:"RiderCurrentOrder",component:ia,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/schedule",name:"RiderSchedule",component:Ma,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/update-ft-schedule",name:"RiderUpdateFTSchedule",component:ka,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/summary",name:"RiderSummary",component:Qa,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/rider/update-pt-schedule/:year/:week",name:"RiderUpdatePTSchedule",component:pa,props:!0,beforeEnter:function(e,t,r){return ri(e,t,r,"Rider")}},{path:"/manager",name:"Manager",component:wn,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/signup",component:fn,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/rider/salary-summary",component:Bs,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/rider/delivery-summary",component:On,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/rider/rating-summary",component:Bn,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/orders/customer-order-summary",component:$n,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/orders/fds-sales-summary",component:ns,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/orders/fds-orders-summary",component:vs,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/user-signup-summary",component:ws,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/orders/area-hourly-orders",component:Os,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/manage-global-promotions",component:ti,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}},{path:"/manager/all-staff-rider",component:$s,beforeEnter:function(e,t,r){return ri(e,t,r,"Manager")}}]});ai.beforeEach((function(e,t,r){"Landing"===e.name||sn.getters.isLoggedIn?r():ai.push({name:"Landing"})}));var ni=ai,si=function(){m.a.interceptors.request.use((function(e){var t=sn.getters.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}))},ii=r("ebfd"),oi=r.n(ii);si(),a["a"].use(oi.a),a["a"].config.productionTip=!1,m.a.defaults.baseURL="http://localhost:8000",new a["a"]({vuetify:Ie,router:ni,store:sn,render:function(e){return e(Se)}}).$mount("#app")},"65c7":function(e,t,r){},"8a23":function(e,t,r){},a6e0:function(e,t,r){},a964:function(e,t,r){r("b0c0"),r("96cf");var a=r("c973"),n=r("bc3a"),s=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/rider/salary-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/rider/order-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/rider/rating-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/orders/customer-order-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/orders/sales-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/orders/orders-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=a(regeneratorRuntime.mark((function e(t,r,a,s,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={name:t,username:r,password:i,role:a,rid:s},e.prev=1,e.next=4,n.post("/signupBusiness/",{user:o});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,a,n,s){return e.apply(this,arguments)}}(),m=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/customer-signup-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/orders/area-order-summary/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/manager/all-staff-rider/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={name:t.name,uid:t.uid,role:t.role},e.prev=1,e.next=4,n.post("/manager/delete-user",r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();e.exports={getSalarySummary:s,getRiderDeliverySummary:i,getRiderRatingSummary:o,getCustomerOrderSummary:c,getRestaurantSalesSummary:l,getFDSOrdersSummary:u,signupUser:d,getUserSignUpSummary:m,getHourlyAreaOrdersSummary:v,getAllStaffRider:f,deleteUser:p}},ac79:function(e,t,r){r("99af"),r("96cf");var a=r("c973"),n=r("bc3a"),s={fullTime:"Full Timer",partTime:"Part Timer"},i={toRest:"Moving to restaurant",waiting:"Waiting for order",toCust:"Moving to customer"},o=function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/update-ft-schedule",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0.response.data;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/update-pt-schedule",{year:t,week:r,dailySchedules:a});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0.response.data;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.get("/rider/shifts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.get("/rider/startDaysOfMonths/".concat(t,"/").concat(r));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.get("/rider/available-orders/".concat(t,"/").concat(r));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.get("rider/current-order/".concat(t,"/").concat(r));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/select-order",{oid:t});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0.response.data;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/update-order-status",{oid:t,currStatus:r});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0.response.data;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=a(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/rider/salary/".concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=a(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/rider/summary/".concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=a(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/rider/rating");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/clear-pt-schedule",{year:t,week:r});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0.response.data;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/rider/clear-ft-schedule",{year:t,month:r});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log(e.t0.response.data),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={postPTScheduleUpdate:c,postFTScheduleUpdate:o,getShifts:l,getStartDaysOfMonth:u,RiderTypes:s,getAvailableOrders:d,getCurrentOrder:m,postOrderSelection:v,postOrderStatusUpdate:f,orderStatuses:i,getSalaryInfo:p,getRating:g,getSummaryInfo:h,postClearPTSchedule:b,postClearFTSchedule:x}},c3dd:function(e,t,r){},c8ef:function(e,t,r){"use strict";var a=r("1307"),n=r.n(a);n.a},cbc5:function(e,t,r){"use strict";var a=r("65c7"),n=r.n(a);n.a},d1e2:function(e,t,r){e.exports=r.p+"img/shigeo.93955ffb.jpg"},f298:function(e,t,r){"use strict";var a=r("3974"),n=r.n(a);n.a},f332:function(e,t,r){}});
//# sourceMappingURL=app.45838ac5.js.map